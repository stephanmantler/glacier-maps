(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{104:function(t,e,n){"use strict";var i=n(42),o=n(87),r="#333",a=function(){function t(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new i.a({color:r}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:o.a.POINT,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding}return t.prototype.clone=function(){return new t({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})},t.prototype.getOverflow=function(){return this.overflow_},t.prototype.getFont=function(){return this.font_},t.prototype.getMaxAngle=function(){return this.maxAngle_},t.prototype.getPlacement=function(){return this.placement_},t.prototype.getOffsetX=function(){return this.offsetX_},t.prototype.getOffsetY=function(){return this.offsetY_},t.prototype.getFill=function(){return this.fill_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.getText=function(){return this.text_},t.prototype.getTextAlign=function(){return this.textAlign_},t.prototype.getTextBaseline=function(){return this.textBaseline_},t.prototype.getBackgroundFill=function(){return this.backgroundFill_},t.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},t.prototype.getPadding=function(){return this.padding_},t.prototype.setOverflow=function(t){this.overflow_=t},t.prototype.setFont=function(t){this.font_=t},t.prototype.setMaxAngle=function(t){this.maxAngle_=t},t.prototype.setOffsetX=function(t){this.offsetX_=t},t.prototype.setOffsetY=function(t){this.offsetY_=t},t.prototype.setPlacement=function(t){this.placement_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setFill=function(t){this.fill_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.setText=function(t){this.text_=t},t.prototype.setTextAlign=function(t){this.textAlign_=t},t.prototype.setTextBaseline=function(t){this.textBaseline_=t},t.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},t.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},t.prototype.setPadding=function(t){this.padding_=t},t}();e.a=a},114:function(t,e,n){
/*!
 * PEP v0.5.3 | https://github.com/jquery/PEP
 * Copyright jQuery Foundation and other contributors | http://jquery.org/license
 */
t.exports=function(){"use strict";var t=["bubbles","cancelable","view","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","pageX","pageY"],e=[!1,!1,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0];function n(n,i){i=i||Object.create(null);var o=document.createEvent("Event");o.initEvent(n,i.bubbles||!1,i.cancelable||!1);for(var r,a=2;a<t.length;a++)o[r=t[a]]=i[r]||e[a];o.buttons=i.buttons||0;var s=0;return s=void 0!==i.pressure&&o.buttons?i.pressure:o.buttons?.5:0,o.x=o.clientX,o.y=o.clientY,o.pointerId=i.pointerId||0,o.width=i.width||1,o.height=i.height||1,o.pressure=s,o.tiltX=i.tiltX||0,o.tiltY=i.tiltY||0,o.twist=i.twist||0,o.tangentialPressure=i.tangentialPressure||0,o.pointerType=i.pointerType||"",o.hwTimestamp=i.hwTimestamp||0,o.isPrimary=i.isPrimary||!1,o.detail=0,o}var i=window.Map&&window.Map.prototype.forEach?Map:o;function o(){this.array=[],this.size=0}o.prototype={set:function(t,e){if(void 0===e)return this.delete(t);this.has(t)||this.size++,this.array[t]=e},has:function(t){return void 0!==this.array[t]},delete:function(t){this.has(t)&&(delete this.array[t],this.size--)},get:function(t){return this.array[t]},clear:function(){this.array.length=0,this.size=0},forEach:function(t,e){return this.array.forEach((function(n,i){t.call(e,n,i,this)}),this)}};var r=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","buttons","pointerId","width","height","pressure","tiltX","tiltY","pointerType","hwTimestamp","isPrimary","type","target","currentTarget","which","pageX","pageY","timeStamp"],a=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],s={pointerover:1,pointerout:1,pointerenter:1,pointerleave:1},l="undefined"!=typeof SVGElementInstance,h={pointermap:new i,eventMap:Object.create(null),captureInfo:Object.create(null),eventSources:Object.create(null),eventSourceList:[],registerSource:function(t,e){var n=e,i=n.events;i&&(i.forEach((function(t){n[t]&&(this.eventMap[t]=n[t].bind(n))}),this),this.eventSources[t]=n,this.eventSourceList.push(n))},register:function(t){for(var e,n=this.eventSourceList.length,i=0;i<n&&(e=this.eventSourceList[i]);i++)e.register.call(e,t)},unregister:function(t){for(var e,n=this.eventSourceList.length,i=0;i<n&&(e=this.eventSourceList[i]);i++)e.unregister.call(e,t)},contains:function(t,e){try{return t.contains(e)}catch(t){return!1}},down:function(t){t.bubbles=!0,this.fireEvent("pointerdown",t)},move:function(t){t.bubbles=!0,this.fireEvent("pointermove",t)},up:function(t){t.bubbles=!0,this.fireEvent("pointerup",t)},enter:function(t){t.bubbles=!1,this.fireEvent("pointerenter",t)},leave:function(t){t.bubbles=!1,this.fireEvent("pointerleave",t)},over:function(t){t.bubbles=!0,this.fireEvent("pointerover",t)},out:function(t){t.bubbles=!0,this.fireEvent("pointerout",t)},cancel:function(t){t.bubbles=!0,this.fireEvent("pointercancel",t)},leaveOut:function(t){this.out(t),this.propagate(t,this.leave,!1)},enterOver:function(t){this.over(t),this.propagate(t,this.enter,!0)},eventHandler:function(t){if(!t._handledByPE){var e=t.type,n=this.eventMap&&this.eventMap[e];n&&n(t),t._handledByPE=!0}},listen:function(t,e){e.forEach((function(e){this.addEvent(t,e)}),this)},unlisten:function(t,e){e.forEach((function(e){this.removeEvent(t,e)}),this)},addEvent:function(t,e){t.addEventListener(e,this.boundHandler)},removeEvent:function(t,e){t.removeEventListener(e,this.boundHandler)},makeEvent:function(t,e){this.captureInfo[e.pointerId]&&(e.relatedTarget=null);var i=new n(t,e);return e.preventDefault&&(i.preventDefault=e.preventDefault),i._target=i._target||e.target,i},fireEvent:function(t,e){var n=this.makeEvent(t,e);return this.dispatchEvent(n)},cloneEvent:function(t){for(var e,n=Object.create(null),i=0;i<r.length;i++)n[e=r[i]]=t[e]||a[i],!l||"target"!==e&&"relatedTarget"!==e||n[e]instanceof SVGElementInstance&&(n[e]=n[e].correspondingUseElement);return t.preventDefault&&(n.preventDefault=function(){t.preventDefault()}),n},getTarget:function(t){var e=this.captureInfo[t.pointerId];return e?t._target!==e&&t.type in s?void 0:e:t._target},propagate:function(t,e,n){for(var i=t.target,o=[];null!=i&&i!==document&&!i.contains(t.relatedTarget);)if(o.push(i),!(i=i.parentNode))return;n&&o.reverse(),o.forEach((function(n){t.target=n,e.call(this,t)}),this)},setCapture:function(t,e,i){this.captureInfo[t]&&this.releaseCapture(t,i),this.captureInfo[t]=e,this.implicitRelease=this.releaseCapture.bind(this,t,i),document.addEventListener("pointerup",this.implicitRelease),document.addEventListener("pointercancel",this.implicitRelease);var o=new n("gotpointercapture",{bubbles:!0});o.pointerId=t,o._target=e,i||this.asyncDispatchEvent(o)},releaseCapture:function(t,e){var i=this.captureInfo[t];if(i){this.captureInfo[t]=void 0,document.removeEventListener("pointerup",this.implicitRelease),document.removeEventListener("pointercancel",this.implicitRelease);var o=new n("lostpointercapture",{bubbles:!0});o.pointerId=t,o._target=i,e||this.asyncDispatchEvent(o)}},dispatchEvent:function(t){var e=this.getTarget(t);if(e)return e.dispatchEvent(t)},asyncDispatchEvent:function(t){requestAnimationFrame(this.dispatchEvent.bind(this,t))}};h.boundHandler=h.eventHandler.bind(h);var u={shadow:function(t){if(t)return t.shadowRoot||t.webkitShadowRoot},canTarget:function(t){return t&&Boolean(t.elementFromPoint)},targetingShadow:function(t){var e=this.shadow(t);if(this.canTarget(e))return e},olderShadow:function(t){var e=t.olderShadowRoot;if(!e){var n=t.querySelector("shadow");n&&(e=n.olderShadowRoot)}return e},allShadows:function(t){for(var e=[],n=this.shadow(t);n;)e.push(n),n=this.olderShadow(n);return e},searchRoot:function(t,e,n){if(t){var i,o,r=t.elementFromPoint(e,n);for(o=this.targetingShadow(r);o;){if(i=o.elementFromPoint(e,n)){var a=this.targetingShadow(i);return this.searchRoot(a,e,n)||i}o=this.olderShadow(o)}return r}},owner:function(t){for(var e=t;e.parentNode;)e=e.parentNode;return e.nodeType!==Node.DOCUMENT_NODE&&e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(e=document),e},findTarget:function(t){var e=t.clientX,n=t.clientY,i=this.owner(t.target);return i.elementFromPoint(e,n)||(i=document),this.searchRoot(i,e,n)}},c=Array.prototype.forEach.call.bind(Array.prototype.forEach),p=Array.prototype.map.call.bind(Array.prototype.map),d=Array.prototype.slice.call.bind(Array.prototype.slice),f=Array.prototype.filter.call.bind(Array.prototype.filter),_=window.MutationObserver||window.WebKitMutationObserver,v={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["touch-action"]};function g(t,e,n,i){this.addCallback=t.bind(i),this.removeCallback=e.bind(i),this.changedCallback=n.bind(i),_&&(this.observer=new _(this.mutationWatcher.bind(this)))}function y(t){return"{ -ms-touch-action: "+t+"; touch-action: "+t+"; }"}g.prototype={watchSubtree:function(t){this.observer&&u.canTarget(t)&&this.observer.observe(t,v)},enableOnSubtree:function(t){this.watchSubtree(t),t===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(t)},installNewSubtree:function(t){c(this.findElements(t),this.addElement,this)},findElements:function(t){return t.querySelectorAll?t.querySelectorAll("[touch-action]"):[]},removeElement:function(t){this.removeCallback(t)},addElement:function(t){this.addCallback(t)},elementChanged:function(t,e){this.changedCallback(t,e)},concatLists:function(t,e){return t.concat(d(e))},installOnLoad:function(){document.addEventListener("readystatechange",function(){"complete"===document.readyState&&this.installNewSubtree(document)}.bind(this))},isElement:function(t){return t.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(t){var e=p(t,this.findElements,this);return e.push(f(t,this.isElement)),e.reduce(this.concatLists,[])},mutationWatcher:function(t){t.forEach(this.mutationHandler,this)},mutationHandler:function(t){"childList"===t.type?(this.flattenMutationTree(t.addedNodes).forEach(this.addElement,this),this.flattenMutationTree(t.removedNodes).forEach(this.removeElement,this)):"attributes"===t.type&&this.elementChanged(t.target,t.oldValue)}};var m=[{selector:'[touch-action="none"]',value:"none"},{selector:'[touch-action="auto"]',value:"auto"},{selector:'[touch-action~="pan-x"]',value:"pan-x"},{selector:'[touch-action~="pan-y"]',value:"pan-y"},{selector:'[touch-action~="pan-up"]',value:"pan-up"},{selector:'[touch-action~="pan-down"]',value:"pan-down"},{selector:'[touch-action~="pan-left"]',value:"pan-left"},{selector:'[touch-action~="pan-right"]',value:"pan-right"}],E="",b=window.PointerEvent||window.MSPointerEvent,O=!window.ShadowDOMPolyfill&&document.head.createShadowRoot,T=h.pointermap,x=[1,4,2,8,16],P=!1;try{P=1===new MouseEvent("test",{buttons:1}).buttons}catch(t){}var w,C={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","webkitmouseforcechanged","mousemove","mouseup","mouseover","mouseout"],register:function(t){h.listen(t,this.events)},unregister:function(t){h.unlisten(t,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(t){for(var e,n=this.lastTouches,i=t.clientX,o=t.clientY,r=0,a=n.length;r<a&&(e=n[r]);r++){var s=Math.abs(i-e.x),l=Math.abs(o-e.y);if(s<=25&&l<=25)return!0}},prepareEvent:function(t){var e=h.cloneEvent(t),n=e.preventDefault;return e.preventDefault=function(){t.preventDefault(),n()},e.pointerId=this.POINTER_ID,e.isPrimary=!0,e.pointerType=this.POINTER_TYPE,"webkitForce"in t&&(e.pressure=t.webkitForce-MouseEvent.WEBKIT_FORCE_AT_MOUSE_DOWN),e},prepareButtonsForMove:function(t,e){var n=T.get(this.POINTER_ID);0!==e.which&&n?t.buttons=n.buttons:t.buttons=0,e.buttons=t.buttons},mousedown:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=T.get(this.POINTER_ID),n=this.prepareEvent(t);P||(n.buttons=x[n.button],e&&(n.buttons|=e.buttons),t.buttons=n.buttons),T.set(this.POINTER_ID,t),e&&0!==e.buttons?h.move(n):h.down(n)}},webkitmouseforcechanged:function(t){this.mousemove(t)},mousemove:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);P||this.prepareButtonsForMove(e,t),e.button=-1,T.set(this.POINTER_ID,t),h.move(e)}},mouseup:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=T.get(this.POINTER_ID),n=this.prepareEvent(t);if(!P){var i=x[n.button];n.buttons=e?e.buttons&~i:0,t.buttons=n.buttons}T.set(this.POINTER_ID,t),n.buttons&=~x[n.button],0===n.buttons?h.up(n):h.move(n)}},mouseover:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);P||this.prepareButtonsForMove(e,t),e.button=-1,T.set(this.POINTER_ID,t),h.enterOver(e)}},mouseout:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);P||this.prepareButtonsForMove(e,t),e.button=-1,h.leaveOut(e)}},cancel:function(t){var e=this.prepareEvent(t);h.cancel(e),this.deactivateMouse()},deactivateMouse:function(){T.delete(this.POINTER_ID)}},R=h.captureInfo,I=u.findTarget.bind(u),S=u.allShadows.bind(u),L=h.pointermap,j={events:["touchstart","touchmove","touchforcechange","touchend","touchcancel"],register:function(t){w.enableOnSubtree(t)},unregister:function(){},elementAdded:function(t){var e=t.getAttribute("touch-action"),n=this.touchActionToScrollType(e);"number"==typeof n&&(t._scrollType=n,h.listen(t,this.events),S(t).forEach((function(t){t._scrollType=n,h.listen(t,this.events)}),this))},elementRemoved:function(t){if(L.size>0){var e=this.events;t.addEventListener("touchend",(function(){t._scrollType=void 0,h.unlisten(t,e)}))}else t._scrollType=void 0,h.unlisten(t,this.events);S(t).forEach((function(t){t._scrollType=void 0,h.unlisten(t,this.events)}),this)},elementChanged:function(t,e){var n=t.getAttribute("touch-action"),i=this.touchActionToScrollType(n),o=this.touchActionToScrollType(e);"number"==typeof i&&"number"==typeof o?(t._scrollType=i,S(t).forEach((function(t){t._scrollType=i}),this)):"number"==typeof o?this.elementRemoved(t):"number"==typeof i&&this.elementAdded(t)},scrollTypes:{UP:function(t){return t.includes("pan-y")||t.includes("pan-up")?1:0},DOWN:function(t){return t.includes("pan-y")||t.includes("pan-down")?2:0},LEFT:function(t){return t.includes("pan-x")||t.includes("pan-left")?4:0},RIGHT:function(t){return t.includes("pan-x")||t.includes("pan-right")?8:0}},touchActionToScrollType:function(t){if(t){if("auto"===t)return 15;if("none"===t)return 0;var e=t.split(" "),n=this.scrollTypes;return n.UP(e)|n.DOWN(e)|n.LEFT(e)|n.RIGHT(e)}},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(t){return this.firstTouch===t.identifier},setPrimaryTouch:function(t){(0===L.size||1===L.size&&L.has(1))&&(this.firstTouch=t.identifier,this.firstXY={X:t.clientX,Y:t.clientY},this.scrolling=!1)},removePrimaryPointer:function(t){t.isPrimary&&(this.firstTouch=null,this.firstXY=null)},typeToButtons:function(t){var e=0;return"touchstart"!==t&&"touchmove"!==t&&"touchforcechange"!==t||(e=1),e},touchToPointer:function(t){var e=this.currentTouchEvent,n=h.cloneEvent(t),i=n.pointerId=t.identifier+2;if(n.target=R[i]||I(n),n.bubbles=!0,n.cancelable=!0,n.button=0,n.buttons=this.typeToButtons(e.type),n.width=2*(t.radiusX||t.webkitRadiusX||0),n.height=2*(t.radiusY||t.webkitRadiusY||0),n.pressure=void 0!==t.force?t.force:void 0!==t.webkitForce?t.webkitForce:void 0,n.isPrimary=this.isPrimaryTouch(t),t.altitudeAngle){var o=Math.tan(t.altitudeAngle),r=180/Math.PI;n.tiltX=Math.atan(Math.cos(t.azimuthAngle)/o)*r,n.tiltY=Math.atan(Math.sin(t.azimuthAngle)/o)*r}else n.tiltX=0,n.tiltY=0;"stylus"===t.touchType?n.pointerType="pen":n.pointerType=this.POINTER_TYPE,n.altKey=e.altKey,n.ctrlKey=e.ctrlKey,n.metaKey=e.metaKey,n.shiftKey=e.shiftKey;var a=this;return n.preventDefault=function(){a.scrolling=!1,a.firstXY=null,e.preventDefault()},n},processTouches:function(t,e){var n=t.changedTouches;this.currentTouchEvent=t;for(var i,o=0;o<n.length;o++)i=n[o],e.call(this,this.touchToPointer(i))},shouldScroll:function(t){if(this.firstXY){var e,n=t.currentTarget._scrollType;if(0===n)e=!1;else if(15===n)e=!0;else{var i=t.changedTouches[0],o=i.clientY-this.firstXY.Y,r=Math.abs(o),a=i.clientX-this.firstXY.X,s=Math.abs(a),l=1&n,h=2&n,u=4&n,c=8&n;u&&c?e=s>r:u?e=s>r&&a>0:c&&(e=s>r&&a<0),e||(l&&h?e=s<r:l?e=s<r&&o>0:h&&(e=s<r&&o<0))}return this.firstXY=null,e}},findTouch:function(t,e){for(var n,i=0,o=t.length;i<o&&(n=t[i]);i++)if(n.identifier===e)return!0},vacuumTouches:function(t){var e=t.touches;if(L.size>=e.length){var n=[];L.forEach((function(t,i){if(1!==i&&!this.findTouch(e,i-2)){var o=t.out;n.push(o)}}),this),n.forEach(this.cancelOut,this)}},touchstart:function(t){this.vacuumTouches(t),this.setPrimaryTouch(t.changedTouches[0]),this.dedupSynthMouse(t),this.scrolling||this.processTouches(t,this.overDown)},overDown:function(t){L.set(t.pointerId,{target:t.target,out:t,outTarget:t.target}),h.enterOver(t),h.down(t)},touchforcechange:function(t){this.touchmove(t)},touchmove:function(t){this.scrolling||(this.shouldScroll(t)?(this.scrolling=!0,this.touchcancel(t)):("touchforcechange"!==t.type&&t.preventDefault(),this.processTouches(t,this.moveOverOut)))},moveOverOut:function(t){var e=t,n=L.get(e.pointerId);if(n){var i=n.out,o=n.outTarget;h.move(e),i&&o!==e.target&&(i.relatedTarget=e.target,e.relatedTarget=o,i.target=o,e.target?(h.leaveOut(i),h.enterOver(e)):(e.target=o,e.relatedTarget=null,this.cancelOut(e))),n.out=e,n.outTarget=e.target}},touchend:function(t){this.dedupSynthMouse(t),this.processTouches(t,this.upOut)},upOut:function(t){this.scrolling||(h.up(t),h.leaveOut(t)),this.cleanUpPointer(t)},touchcancel:function(t){this.processTouches(t,this.cancelOut)},cancelOut:function(t){h.cancel(t),h.leaveOut(t),this.cleanUpPointer(t)},cleanUpPointer:function(t){L.delete(t.pointerId),this.removePrimaryPointer(t)},dedupSynthMouse:function(t){var e=C.lastTouches,n=t.changedTouches[0];if(this.isPrimaryTouch(n)){var i={x:n.clientX,y:n.clientY};e.push(i);var o=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}.bind(null,e,i);setTimeout(o,2500)}}};w=new g(j.elementAdded,j.elementRemoved,j.elementChanged,j);var A,M,F,D=h.pointermap,k=window.MSPointerEvent&&"number"==typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,N={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(t){h.listen(t,this.events)},unregister:function(t){h.unlisten(t,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(t){var e=t;return k&&((e=h.cloneEvent(t)).pointerType=this.POINTER_TYPES[t.pointerType]),e},cleanup:function(t){D.delete(t)},MSPointerDown:function(t){D.set(t.pointerId,t);var e=this.prepareEvent(t);h.down(e)},MSPointerMove:function(t){var e=this.prepareEvent(t);h.move(e)},MSPointerUp:function(t){var e=this.prepareEvent(t);h.up(e),this.cleanup(t.pointerId)},MSPointerOut:function(t){var e=this.prepareEvent(t);h.leaveOut(e)},MSPointerOver:function(t){var e=this.prepareEvent(t);h.enterOver(e)},MSPointerCancel:function(t){var e=this.prepareEvent(t);h.cancel(e),this.cleanup(t.pointerId)},MSLostPointerCapture:function(t){var e=h.makeEvent("lostpointercapture",t);h.dispatchEvent(e)},MSGotPointerCapture:function(t){var e=h.makeEvent("gotpointercapture",t);h.dispatchEvent(e)}};function G(t){if(!h.pointermap.has(t)){var e=new Error("NotFoundError");throw e.name="NotFoundError",e}}function K(t){for(var e=t.parentNode;e&&e!==t.ownerDocument;)e=e.parentNode;if(!e){var n=new Error("InvalidStateError");throw n.name="InvalidStateError",n}}function V(t){return 0!==h.pointermap.get(t).buttons}return window.navigator.msPointerEnabled?(A=function(t){G(t),K(this),V(t)&&(h.setCapture(t,this,!0),this.msSetPointerCapture(t))},M=function(t){G(t),h.releaseCapture(t,!0),this.msReleasePointerCapture(t)}):(A=function(t){G(t),K(this),V(t)&&h.setCapture(t,this)},M=function(t){G(t),h.releaseCapture(t)}),F=function(t){return!!h.captureInfo[t]},function(){if(b){m.forEach((function(t){E+=t.selector+y(t.value)+"\n",O&&(E+=function(t){return"body /shadow-deep/ "+t}(t.selector)+y(t.value)+"\n")}));var t=document.createElement("style");t.textContent=E,document.head.appendChild(t)}}(),function(){if(!window.PointerEvent){if(window.PointerEvent=n,window.navigator.msPointerEnabled){var t=window.navigator.msMaxTouchPoints;Object.defineProperty(window.navigator,"maxTouchPoints",{value:t,enumerable:!0}),h.registerSource("ms",N)}else Object.defineProperty(window.navigator,"maxTouchPoints",{value:0,enumerable:!0}),h.registerSource("mouse",C),void 0!==window.ontouchstart&&h.registerSource("touch",j);h.register(document)}}(),window.Element&&!Element.prototype.setPointerCapture&&Object.defineProperties(Element.prototype,{setPointerCapture:{value:A},releasePointerCapture:{value:M},hasPointerCapture:{value:F}}),{dispatcher:h,Installer:g,PointerEvent:n,PointerMap:i,targetFinding:u}}()},116:function(t,e,n){"use strict";n.r(e);var i,o=n(64),r=n(55),a=n(47),s=n(77),l=n(19),h=n(32),u=n(10),c=n(57),p=n(5),d=n(3),f=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_={ACCURACY:"accuracy",ACCURACY_GEOMETRY:"accuracyGeometry",ALTITUDE:"altitude",ALTITUDE_ACCURACY:"altitudeAccuracy",HEADING:"heading",POSITION:"position",PROJECTION:"projection",SPEED:"speed",TRACKING:"tracking",TRACKING_OPTIONS:"trackingOptions"},v=function(t){function e(e){var n=t.call(this,u.a.ERROR)||this;return n.code=e.code,n.message=e.message,n}return f(e,t),e}(h.a),g=function(t){function e(e){var n=t.call(this)||this,i=e||{};return n.position_=null,n.transform_=d.k,n.watchId_=void 0,n.addEventListener(Object(l.b)(_.PROJECTION),n.handleProjectionChanged_),n.addEventListener(Object(l.b)(_.TRACKING),n.handleTrackingChanged_),void 0!==i.projection&&n.setProjection(i.projection),void 0!==i.trackingOptions&&n.setTrackingOptions(i.trackingOptions),n.setTracking(void 0!==i.tracking&&i.tracking),n}return f(e,t),e.prototype.disposeInternal=function(){this.setTracking(!1),t.prototype.disposeInternal.call(this)},e.prototype.handleProjectionChanged_=function(){var t=this.getProjection();t&&(this.transform_=Object(d.i)(Object(d.f)("EPSG:4326"),t),this.position_&&this.set(_.POSITION,this.transform_(this.position_)))},e.prototype.handleTrackingChanged_=function(){if("geolocation"in navigator){var t=this.getTracking();t&&void 0===this.watchId_?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):t||void 0===this.watchId_||(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}},e.prototype.positionChange_=function(t){var e=t.coords;this.set(_.ACCURACY,e.accuracy),this.set(_.ALTITUDE,null===e.altitude?void 0:e.altitude),this.set(_.ALTITUDE_ACCURACY,null===e.altitudeAccuracy?void 0:e.altitudeAccuracy),this.set(_.HEADING,null===e.heading?void 0:Object(p.i)(e.heading)),this.position_?(this.position_[0]=e.longitude,this.position_[1]=e.latitude):this.position_=[e.longitude,e.latitude];var n=this.transform_(this.position_);this.set(_.POSITION,n),this.set(_.SPEED,null===e.speed?void 0:e.speed);var i=Object(c.a)(this.position_,e.accuracy);i.applyTransform(this.transform_),this.set(_.ACCURACY_GEOMETRY,i),this.changed()},e.prototype.positionError_=function(t){this.setTracking(!1),this.dispatchEvent(new v(t))},e.prototype.getAccuracy=function(){return this.get(_.ACCURACY)},e.prototype.getAccuracyGeometry=function(){return this.get(_.ACCURACY_GEOMETRY)||null},e.prototype.getAltitude=function(){return this.get(_.ALTITUDE)},e.prototype.getAltitudeAccuracy=function(){return this.get(_.ALTITUDE_ACCURACY)},e.prototype.getHeading=function(){return this.get(_.HEADING)},e.prototype.getPosition=function(){return this.get(_.POSITION)},e.prototype.getProjection=function(){return this.get(_.PROJECTION)},e.prototype.getSpeed=function(){return this.get(_.SPEED)},e.prototype.getTracking=function(){return this.get(_.TRACKING)},e.prototype.getTrackingOptions=function(){return this.get(_.TRACKING_OPTIONS)},e.prototype.setProjection=function(t){this.set(_.PROJECTION,Object(d.f)(t))},e.prototype.setTracking=function(t){this.set(_.TRACKING,t)},e.prototype.setTrackingOptions=function(t){this.set(_.TRACKING_OPTIONS,t)},e}(l.a),y=n(74),m=n(11),E=n(52);function b(t,e,n){var i=Object(p.d)(e+180,360)-180,o=Math.abs(3600*i),r=n||0,a=Math.pow(10,r),s=Math.floor(o/3600),l=Math.floor((o-3600*s)/60),h=o-3600*s-60*l;return(h=Math.ceil(h*a)/a)>=60&&(h=0,l+=1),l>=60&&(l=0,s+=1),s+"° "+Object(E.a)(l,2)+"′ "+Object(E.a)(h,2,r)+"″"+(0==i?"":" "+t.charAt(i<0?1:0))}function O(t,e){for(var n=!0,i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function T(t,e){var n=Math.cos(e),i=Math.sin(e),o=t[0]*n-t[1]*i,r=t[1]*n+t[0]*i;return t[0]=o,t[1]=r,t}var x=n(104),P=n(42),w=n(39),C=n(61),R=n(1),I=n(37),S=n(58),L=n(7),j=n(12),A=n(9),M=n(0),F=n(34),D=n(89),k=!1;function N(t,e){return function(t,e,n,i){return function(o,r,a){var s=new XMLHttpRequest;s.open("GET","function"==typeof t?t(o,r,a):t,!0),e.getType()==D.a.ARRAY_BUFFER&&(s.responseType="arraybuffer"),s.withCredentials=k,s.onload=function(t){if(!s.status||s.status>=200&&s.status<300){var r=e.getType(),l=void 0;r==D.a.JSON||r==D.a.TEXT?l=s.responseText:r==D.a.XML?(l=s.responseXML)||(l=(new DOMParser).parseFromString(s.responseText,"application/xml")):r==D.a.ARRAY_BUFFER&&(l=s.response),l?n.call(this,e.readFeatures(l,{extent:o,featureProjection:a}),e.readProjection(l)):i.call(this)}else i.call(this)}.bind(this),s.onerror=function(){i.call(this)}.bind(this),s.send()}}(t,e,(function(t,e){"function"==typeof this.addFeatures&&this.addFeatures(t)}),F.c)}function G(t,e){return[[-1/0,-1/0,1/0,1/0]]}function K(t,e){return[t]}var V=n(83),Y=n(35),B="addfeature",z="changefeature",U="clear",W="removefeature",X=n(86),H=n.n(X),Z=function(){function t(t){this.rbush_=new H.a(t),this.items_={}}return t.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[Object(R.c)(e)]=n},t.prototype.load=function(t,e){for(var n=new Array(e.length),i=0,o=e.length;i<o;i++){var r=t[i],a=e[i],s={minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],value:a};n[i]=s,this.items_[Object(R.c)(a)]=s}this.rbush_.load(n)},t.prototype.remove=function(t){var e=Object(R.c)(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},t.prototype.update=function(t,e){var n=this.items_[Object(R.c)(e)],i=[n.minX,n.minY,n.maxX,n.maxY];Object(M.p)(i,t)||(this.remove(e),this.insert(t,e))},t.prototype.getAll=function(){return this.rbush_.all().map((function(t){return t.value}))},t.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map((function(t){return t.value}))},t.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},t.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},t.prototype.forEach_=function(t,e){for(var n,i=0,o=t.length;i<o;i++)if(n=e(t[i]))return n;return n},t.prototype.isEmpty=function(){return Object(m.d)(this.items_)},t.prototype.clear=function(){this.rbush_.clear(),this.items_={}},t.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return Object(M.k)(e.minX,e.minY,e.maxX,e.maxY,t)},t.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},t}(),q=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),J=function(t){function e(e,n){var i=t.call(this,e)||this;return i.feature=n,i}return q(e,t),e}(h.a),Q=function(t){function e(e){var n=this,i=e||{};(n=t.call(this,{attributions:i.attributions,projection:void 0,state:Y.a.READY,wrapX:void 0===i.wrapX||i.wrapX})||this).loader_=F.c,n.format_=i.format,n.overlaps_=null==i.overlaps||i.overlaps,n.url_=i.url,void 0!==i.loader?n.loader_=i.loader:void 0!==n.url_&&(Object(j.a)(n.format_,7),n.loader_=N(n.url_,n.format_)),n.strategy_=void 0!==i.strategy?i.strategy:G;var o,a,s=void 0===i.useSpatialIndex||i.useSpatialIndex;return n.featuresRtree_=s?new Z:null,n.loadedExtentsRtree_=new Z,n.nullGeometryFeatures_={},n.idIndex_={},n.uidIndex_={},n.featureChangeKeys_={},n.featuresCollection_=null,Array.isArray(i.features)?a=i.features:i.features&&(a=(o=i.features).getArray()),s||void 0!==o||(o=new r.a(a)),void 0!==a&&n.addFeaturesInternal(a),void 0!==o&&n.bindFeaturesCollection_(o),n}return q(e,t),e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=Object(R.c)(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var i=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new J(B,t))}else this.featuresCollection_&&this.featuresCollection_.remove(t)},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[Object(A.a)(e,u.a.CHANGE,this.handleFeatureChange_,this),Object(A.a)(e,S.a.PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var n=!0,i=e.getId();return void 0!==i&&(i.toString()in this.idIndex_?n=!1:this.idIndex_[i.toString()]=e),n&&(Object(j.a)(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),n},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],n=[],i=[],o=0,r=t.length;o<r;o++){var a=t[o],s=Object(R.c)(a);this.addToIndex_(s,a)&&n.push(a)}o=0;for(var l=n.length;o<l;o++){a=n[o],s=Object(R.c)(a);this.setupChangeEvents_(s,a);var h=a.getGeometry();if(h){var u=h.getExtent();e.push(u),i.push(a)}else this.nullGeometryFeatures_[s]=a}this.featuresRtree_&&this.featuresRtree_.load(e,i);o=0;for(var c=n.length;o<c;o++)this.dispatchEvent(new J(B,n[o]))},e.prototype.bindFeaturesCollection_=function(t){var e=!1;this.addEventListener(B,(function(n){e||(e=!0,t.push(n.feature),e=!1)})),this.addEventListener(W,(function(n){e||(e=!0,t.remove(n.feature),e=!1)})),t.addEventListener(I.a.ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)}.bind(this)),t.addEventListener(I.a.REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}.bind(this)),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_){this.featureChangeKeys_[e].forEach(A.c)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(var n in this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this)),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var i=new J(U);this.dispatchEvent(i),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,(function(n){return n.getGeometry().intersectsCoordinate(t)?e(n):void 0}))},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,(function(n){if(n.getGeometry().intersectsExtent(t)){var i=e(n);if(i)return i}}))},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Object(m.d)(this.nullGeometryFeatures_)||Object(L.c)(t,Object(m.c)(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_.getInExtent(t)},e.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],i=t[1],o=null,r=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],l=e||F.b;return this.featuresRtree_.forEachInExtent(s,(function(t){if(l(t)){var e=t.getGeometry(),h=a;if((a=e.closestPointXY(n,i,r,a))<h){o=t;var u=Math.sqrt(a);s[0]=n-u,s[1]=i-u,s[2]=n+u,s[3]=i+u}}})),o},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFeatureByUid=function(t){var e=this.uidIndex_[t];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,n=Object(R.c)(e),i=e.getGeometry();if(i){var o=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(o,e)):this.featuresRtree_&&this.featuresRtree_.update(o,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var r=e.getId();if(void 0!==r){var a=r.toString();this.idIndex_[a]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[a]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[n]=e;this.changed(),this.dispatchEvent(new J(z,e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:Object(R.c)(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Object(m.d)(this.nullGeometryFeatures_)},e.prototype.loadFeatures=function(t,e,n){var i=this.loadedExtentsRtree_,o=this.strategy_(t,e);this.loading=!1;for(var r=function(t,r){var s=o[t];i.forEachInExtent(s,(function(t){return Object(M.g)(t.extent,s)}))||(a.loader_.call(a,s,e,n),i.insert(s,{extent:s.slice()}),a.loading=a.loader_!==F.c)},a=this,s=0,l=o.length;s<l;++s)r(s)},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),t.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,(function(n){if(Object(M.p)(n.extent,t))return e=n,!0})),e&&n.remove(e)},e.prototype.removeFeature=function(t){var e=Object(R.c)(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},e.prototype.removeFeatureInternal=function(t){var e=Object(R.c)(t);this.featureChangeKeys_[e].forEach(A.c),delete this.featureChangeKeys_[e];var n=t.getId();void 0!==n&&delete this.idIndex_[n.toString()],delete this.uidIndex_[e],this.dispatchEvent(new J(W,t))},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){Object(j.a)(this.format_,7),this.setLoader(N(t,this.format_))},e}(V.a),$=n(51);function tt(t,e,n){for(var i,o,r,a,s,l,h=[],u=t(0),c=t(1),d=e(u),f=e(c),_=[c,u],v=[f,d],g=[1,0],y={},m=1e5;--m>0&&g.length>0;)r=g.pop(),u=_.pop(),d=v.pop(),(l=r.toString())in y||(h.push(d[0],d[1]),y[l]=!0),a=g.pop(),c=_.pop(),f=v.pop(),o=e(i=t(s=(r+a)/2)),Object(p.g)(o[0],o[1],d[0],d[1],f[0],f[1])<n?(h.push(f[0],f[1]),y[l=a.toString()]=!0):(g.push(a,s,s,r),v.push(f,o,o,d),_.push(c,i,i,u));return h}var et=n(14),nt=n(43),it=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ot=new w.a({color:"rgba(0,0,0,0.2)"}),rt=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001],at=function(t){function e(e){var n=this,i=e||{},o=Object(m.a)({updateWhileAnimating:!0,updateWhileInteracting:!0,renderBuffer:0},i);return delete o.maxLines,delete o.strokeStyle,delete o.targetSize,delete o.showLabels,delete o.lonLabelFormatter,delete o.latLabelFormatter,delete o.lonLabelPosition,delete o.latLabelPosition,delete o.lonLabelStyle,delete o.latLabelStyle,delete o.intervals,(n=t.call(this,o)||this).projection_=null,n.maxLat_=1/0,n.maxLon_=1/0,n.minLat_=-1/0,n.minLon_=-1/0,n.maxLatP_=1/0,n.maxLonP_=1/0,n.minLatP_=-1/0,n.minLonP_=-1/0,n.targetSize_=void 0!==i.targetSize?i.targetSize:100,n.maxLines_=void 0!==i.maxLines?i.maxLines:100,n.meridians_=[],n.parallels_=[],n.strokeStyle_=void 0!==i.strokeStyle?i.strokeStyle:ot,n.fromLonLatTransform_=void 0,n.toLonLatTransform_=void 0,n.projectionCenterLonLat_=null,n.meridiansLabels_=null,n.parallelsLabels_=null,i.showLabels&&(n.lonLabelFormatter_=null==i.lonLabelFormatter?b.bind(n,"EW"):i.lonLabelFormatter,n.latLabelFormatter_=null==i.latLabelFormatter?b.bind(n,"NS"):i.latLabelFormatter,n.lonLabelPosition_=null==i.lonLabelPosition?0:i.lonLabelPosition,n.latLabelPosition_=null==i.latLabelPosition?1:i.latLabelPosition,n.lonLabelStyleCache_={},n.lonLabelStyle_=function(t){var e=t.get("graticule_label");return this.lonLabelStyleCache_[e]||(this.lonLabelStyleCache_[e]=new $.b({text:void 0!==i.lonLabelStyle?i.lonLabelStyle:new x.a({text:e,font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new P.a({color:"rgba(0,0,0,1)"}),stroke:new w.a({color:"rgba(255,255,255,1)",width:3})})})),this.lonLabelStyleCache_[e]}.bind(n),n.latLabelStyleCache_={},n.latLabelStyle_=function(t){var e=t.get("graticule_label");return this.latLabelStyleCache_[e]||(this.latLabelStyleCache_[e]=new $.b({text:void 0!==i.latLabelStyle?i.latLabelStyle:new x.a({text:e,font:"12px Calibri,sans-serif",textAlign:"right",fill:new P.a({color:"rgba(0,0,0,1)"}),stroke:new w.a({color:"rgba(255,255,255,1)",width:3})})})),this.latLabelStyleCache_[e]}.bind(n),n.meridiansLabels_=[],n.parallelsLabels_=[]),n.intervals_=void 0!==i.intervals?i.intervals:rt,n.setSource(new Q({loader:n.loaderFunction.bind(n),strategy:K,features:new r.a,overlaps:!1,useSpatialIndex:!1,wrapX:i.wrapX})),n.featurePool_=[],n.lineStyle_=new $.b({stroke:n.strokeStyle_}),n.renderedExtent_=null,n.setRenderOrder(null),n.tmpExtent_=null,n}return it(e,t),e.prototype.loaderFunction=function(t,e,n){var i=this.getSource(),o=this.getExtent()||[-1/0,-1/0,1/0,1/0],r=Object(M.B)(o,t,this.tmpExtent_);if(setTimeout((function(){i.removeLoadedExtent(t)}),0),!(this.renderedExtent_&&Object(M.p)(this.renderedExtent_,r)||(this.renderedExtent_=r,Object(M.H)(r)))){var a=Object(M.x)(r),l=e*e/4;(!this.projection_||!Object(d.c)(this.projection_,n))&&this.updateProjectionInfo_(n),this.createGraticule_(r,a,e,l);var h,u=this.meridians_.length+this.parallels_.length;for(this.meridiansLabels_&&(u+=this.meridiansLabels_.length),this.parallelsLabels_&&(u+=this.parallelsLabels_.length);u>this.featurePool_.length;)h=new s.a,this.featurePool_.push(h);var c=i.getFeaturesCollection();c.clear();var p,f,_,v=0;for(p=0,f=this.meridians_.length;p<f;++p)(h=this.featurePool_[v++]).setGeometry(this.meridians_[p]),h.setStyle(this.lineStyle_),c.push(h);for(p=0,f=this.parallels_.length;p<f;++p)(h=this.featurePool_[v++]).setGeometry(this.parallels_[p]),h.setStyle(this.lineStyle_),c.push(h);if(this.meridiansLabels_)for(p=0,f=this.meridiansLabels_.length;p<f;++p)_=this.meridiansLabels_[p],(h=this.featurePool_[v++]).setGeometry(_.geom),h.setStyle(this.lonLabelStyle_),h.set("graticule_label",_.text),c.push(h);if(this.parallelsLabels_)for(p=0,f=this.parallelsLabels_.length;p<f;++p)_=this.parallelsLabels_[p],(h=this.featurePool_[v++]).setGeometry(_.geom),h.setStyle(this.latLabelStyle_),h.set("graticule_label",_.text),c.push(h)}},e.prototype.addMeridian_=function(t,e,n,i,o,r){var a=this.getMeridian_(t,e,n,i,r);if(Object(M.F)(a.getExtent(),o)){if(this.meridiansLabels_){var s=this.getMeridianPoint_(a,o,r);this.meridiansLabels_[r]={geom:s,text:this.lonLabelFormatter_(t)}}this.meridians_[r++]=a}return r},e.prototype.addParallel_=function(t,e,n,i,o,r){var a=this.getParallel_(t,e,n,i,r);if(Object(M.F)(a.getExtent(),o)){if(this.parallelsLabels_){var s=this.getParallelPoint_(a,o,r);this.parallelsLabels_[r]={geom:s,text:this.latLabelFormatter_(t)}}this.parallels_[r++]=a}return r},e.prototype.createGraticule_=function(t,e,n,i){var o=this.getInterval_(n);if(-1==o)return this.meridians_.length=this.parallels_.length=0,this.meridiansLabels_&&(this.meridiansLabels_.length=0),void(this.parallelsLabels_&&(this.parallelsLabels_.length=0));var r,a,s,l,h=this.toLonLatTransform_(e),u=h[0],c=h[1],f=this.maxLines_,_=[Math.max(t[0],this.minLonP_),Math.max(t[1],this.minLatP_),Math.min(t[2],this.maxLonP_),Math.min(t[3],this.maxLatP_)],v=(_=Object(d.o)(_,this.projection_,"EPSG:4326"))[3],g=_[2],y=_[1],m=_[0];for(u=Math.floor(u/o)*o,l=Object(p.a)(u,this.minLon_,this.maxLon_),a=this.addMeridian_(l,y,v,i,t,0),r=0;l!=this.minLon_&&r++<f;)l=Math.max(l-o,this.minLon_),a=this.addMeridian_(l,y,v,i,t,a);for(l=Object(p.a)(u,this.minLon_,this.maxLon_),r=0;l!=this.maxLon_&&r++<f;)l=Math.min(l+o,this.maxLon_),a=this.addMeridian_(l,y,v,i,t,a);for(this.meridians_.length=a,this.meridiansLabels_&&(this.meridiansLabels_.length=a),c=Math.floor(c/o)*o,s=Object(p.a)(c,this.minLat_,this.maxLat_),a=this.addParallel_(s,m,g,i,t,0),r=0;s!=this.minLat_&&r++<f;)s=Math.max(s-o,this.minLat_),a=this.addParallel_(s,m,g,i,t,a);for(s=Object(p.a)(c,this.minLat_,this.maxLat_),r=0;s!=this.maxLat_&&r++<f;)s=Math.min(s+o,this.maxLat_),a=this.addParallel_(s,m,g,i,t,a);this.parallels_.length=a,this.parallelsLabels_&&(this.parallelsLabels_.length=a)},e.prototype.getInterval_=function(t){for(var e=this.projectionCenterLonLat_[0],n=this.projectionCenterLonLat_[1],i=-1,o=Math.pow(this.targetSize_*t,2),r=[],a=[],s=0,l=this.intervals_.length;s<l;++s){var h=this.intervals_[s]/2;if(r[0]=e-h,r[1]=n-h,a[0]=e+h,a[1]=n+h,this.fromLonLatTransform_(r,r),this.fromLonLatTransform_(a,a),Math.pow(a[0]-r[0],2)+Math.pow(a[1]-r[1],2)<=o)break;i=this.intervals_[s]}return i},e.prototype.getMeridian_=function(t,e,n,i,o){var r=function(t,e,n,i,o){var r=Object(d.f)("EPSG:4326");return tt((function(i){return[t,e+(n-e)*i]}),Object(d.h)(r,i),o)}(t,e,n,this.projection_,i),a=this.meridians_[o];return a?(a.setFlatCoordinates(et.a.XY,r),a.changed()):a=this.meridians_[o]=new C.a(r,et.a.XY),a},e.prototype.getMeridianPoint_=function(t,e,n){var i,o=t.getFlatCoordinates(),r=Math.max(e[1],o[1]),a=Math.min(e[3],o[o.length-1]),s=Object(p.a)(e[1]+Math.abs(e[1]-e[3])*this.lonLabelPosition_,r,a),l=[o[0],s];return n in this.meridiansLabels_?(i=this.meridiansLabels_[n].geom).setCoordinates(l):i=new nt.a(l),i},e.prototype.getMeridians=function(){return this.meridians_},e.prototype.getParallel_=function(t,e,n,i,o){var r=function(t,e,n,i,o){var r=Object(d.f)("EPSG:4326");return tt((function(i){return[e+(n-e)*i,t]}),Object(d.h)(r,i),o)}(t,e,n,this.projection_,i),a=this.parallels_[o];return a?(a.setFlatCoordinates(et.a.XY,r),a.changed()):a=new C.a(r,et.a.XY),a},e.prototype.getParallelPoint_=function(t,e,n){var i,o=t.getFlatCoordinates(),r=Math.max(e[0],o[0]),a=Math.min(e[2],o[o.length-2]),s=[Object(p.a)(e[0]+Math.abs(e[0]-e[2])*this.latLabelPosition_,r,a),o[1]];return n in this.parallelsLabels_?(i=this.parallelsLabels_[n].geom).setCoordinates(s):i=new nt.a(s),i},e.prototype.getParallels=function(){return this.parallels_},e.prototype.updateProjectionInfo_=function(t){var e=Object(d.f)("EPSG:4326"),n=t.getWorldExtent(),i=Object(d.o)(n,e,t);this.maxLat_=n[3],this.maxLon_=n[2],this.minLat_=n[1],this.minLon_=n[0],this.maxLatP_=i[3],this.maxLonP_=i[2],this.minLatP_=i[1],this.minLonP_=i[0],this.fromLonLatTransform_=Object(d.h)(e,t),this.toLonLatTransform_=Object(d.h)(t,e),this.projectionCenterLonLat_=this.toLonLatTransform_(Object(M.x)(t.getExtent())),this.projection_=t},e}(y.a),st=n(80),lt=n(76),ht=n(18),ut=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ct=function(t){function e(e,n,i,o,r){var a=this,s=void 0!==r?ht.a.IDLE:ht.a.LOADED;return(a=t.call(this,e,n,i,s)||this).loader_=void 0!==r?r:null,a.canvas_=o,a.error_=null,a}return ut(e,t),e.prototype.getError=function(){return this.error_},e.prototype.handleLoad_=function(t){t?(this.error_=t,this.state=ht.a.ERROR):this.state=ht.a.LOADED,this.changed()},e.prototype.load=function(){this.state==ht.a.IDLE&&(this.state=ht.a.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))},e.prototype.getImage=function(){return this.canvas_},e}(lt.a),pt=n(79),dt=function(){function t(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var i=this.points_[e+2]-this.points_[n+2];if(i<1e3/60)return!1;var o=this.points_[e]-this.points_[n],r=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(r,o),this.initialVelocity_=Math.sqrt(o*o+r*r)/i,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_},t}(),ft=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_t=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.map=n,o.frameState=void 0!==i?i:null,o}return ft(e,t),e}(h.a),vt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),gt=function(t){function e(e,n,i,o,r){var a=t.call(this,e,n,r)||this;return a.originalEvent=i,a.pixel_=null,a.coordinate_=null,a.dragging=void 0!==o&&o,a}return vt(e,t),Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!0,configurable:!0}),e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(_t),yt=(n(114),n(75)),mt={SINGLECLICK:"singleclick",CLICK:u.a.CLICK,DBLCLICK:u.a.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Et=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),bt=function(t){function e(e,n,i,o,r){var a=t.call(this,e,n,i,o,r)||this;return a.pointerEvent=i,a}return Et(e,t),e}(gt),Ot=n(36),Tt={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},xt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Pt=function(t){function e(e,n){var i=t.call(this,e)||this;i.map_=e,i.clickTimeoutId_,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=n?n*yt.a:yt.a,i.down_=null;var o=i.map_.getViewport();return o.setAttribute("touch-action","none"),i.activePointers_=0,i.trackedTouches_={},i.element_=o,i.pointerdownListenerKey_=Object(A.a)(o,Tt.POINTERDOWN,i.handlePointerDown_,i),i.relayedListenerKey_=Object(A.a)(o,Tt.POINTERMOVE,i.relayEvent_,i),i}return xt(e,t),e.prototype.emulateClick_=function(t){var e=new bt(mt.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new bt(mt.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new bt(mt.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==mt.POINTERUP||e.type==mt.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==mt.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new bt(mt.POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(A.c),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new bt(mt.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&this.dragListenerKeys_.push(Object(A.a)(document,mt.POINTERMOVE,this.handlePointerMove_,this),Object(A.a)(document,mt.POINTERUP,this.handlePointerUp_,this),Object(A.a)(this.element_,mt.POINTERCANCEL,this.handlePointerUp_,this))},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new bt(mt.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}},e.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new bt(t.type,this.map_,t,e))},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Object(A.c)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&(Object(A.c)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(A.c),this.dragListenerKeys_.length=0,this.element_=null,t.prototype.disposeInternal.call(this)},e}(Ot.a),wt=n(78),Ct={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},Rt=n(59),It=n(6),St=function(){function t(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return t.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Object(m.b)(this.queuedElements_)},t.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var i=this.keyFunction_(n);return delete this.queuedElements_[i],n},t.prototype.enqueue=function(t){Object(j.a)(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=1/0&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},t.prototype.getCount=function(){return this.elements_.length},t.prototype.getLeftChildIndex_=function(t){return 2*t+1},t.prototype.getRightChildIndex_=function(t){return 2*t+2},t.prototype.getParentIndex_=function(t){return t-1>>1},t.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},t.prototype.isEmpty=function(){return 0===this.elements_.length},t.prototype.isKeyQueued=function(t){return t in this.queuedElements_},t.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},t.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,i=e.length,o=e[t],r=n[t],a=t;t<i>>1;){var s=this.getLeftChildIndex_(t),l=this.getRightChildIndex_(t),h=l<i&&n[l]<n[s]?l:s;e[t]=e[h],n[t]=n[h],t=h}e[t]=o,n[t]=r,this.siftDown_(a,t)},t.prototype.siftDown_=function(t,e){for(var n=this.elements_,i=this.priorities_,o=n[e],r=i[e];e>t;){var a=this.getParentIndex_(e);if(!(i[a]>r))break;n[e]=n[a],i[e]=i[a],e=a}n[e]=o,i[e]=r},t.prototype.reprioritize=function(){var t,e,n,i=this.priorityFunction_,o=this.elements_,r=this.priorities_,a=0,s=o.length;for(e=0;e<s;++e)(n=i(t=o[e]))==1/0?delete this.queuedElements_[this.keyFunction_(t)]:(r[a]=n,o[a++]=t);o.length=a,r.length=a,this.heapify_()},t}(),Lt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),jt=function(t){function e(e,n){var i=t.call(this,(function(t){return e.apply(null,t)}),(function(t){return t[0].getKey()}))||this;return i.boundHandleTileChange_=i.handleTileChange.bind(i),i.tileChangeCallback_=n,i.tilesLoading_=0,i.tilesLoadingKeys_={},i}return Lt(e,t),e.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);n&&e[0].addEventListener(u.a.CHANGE,this.boundHandleTileChange_);return n},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(e.hifi&&n===It.a.LOADED||n===It.a.ERROR||n===It.a.EMPTY||n===It.a.ABORT){e.removeEventListener(u.a.CHANGE,this.boundHandleTileChange_);var i=e.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var n,i,o,r=0,a=!1;this.tilesLoading_<t&&r<e&&this.getCount()>0;)o=(i=this.dequeue()[0]).getKey(),(n=i.getState())===It.a.ABORT?a=!0:n!==It.a.IDLE||o in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++r,i.load());0===r&&a&&this.tileChangeCallback_()},e}(St),At=n(60);function Mt(t,e,n){return function(i,o,r,a){if(i){var s=e?0:r[0]*o,l=e?0:r[1]*o,h=t[0]+s/2,u=t[2]-s/2,c=t[1]+l/2,d=t[3]-l/2;h>u&&(h=u=(u+h)/2),c>d&&(c=d=(d+c)/2);var f=Object(p.a)(i[0],h,u),_=Object(p.a)(i[1],c,d),v=30*o;return a&&n&&(f+=-v*Math.log(1+Math.max(0,h-i[0])/v)+v*Math.log(1+Math.max(0,i[0]-u)/v),_+=-v*Math.log(1+Math.max(0,c-i[1])/v)+v*Math.log(1+Math.max(0,i[1]-d)/v)),[f,_]}}}function Ft(t){return t}function Dt(t,e,n){var i=Object(M.E)(e)/n[0],o=Object(M.A)(e)/n[1];return Math.min(t,Math.min(i,o))}function kt(t,e,n){var i=Math.min(t,e);return i*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(i=Math.max(i,n),i/=Math.log(1+50*Math.max(0,n/t-1))/50+1),Object(p.a)(i,n/2,2*e)}function Nt(t,e,n,i){return function(o,r,a,s){if(void 0!==o){var l=i?Dt(t,i,a):t;return(void 0===n||n)&&s?kt(o,l,e):Object(p.a)(o,e,l)}}}function Gt(t){return void 0!==t?0:void 0}function Kt(t){return void 0!==t?t:void 0}var Vt=n(44),Yt="center",Bt="resolution",zt="rotation",Ut=n(46),Wt=n(2),Xt=n(17),Ht=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Zt=0;function qt(t,e){setTimeout((function(){t(e)}),0)}function Jt(t){return!(t.sourceCenter&&t.targetCenter&&!O(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}var Qt=function(t){function e(e){var n=t.call(this)||this,i=Object(m.a)({},e);return n.hints_=[0,0],n.animations_=[],n.updateAnimationKey_,n.projection_=Object(d.b)(i.projection,"EPSG:3857"),n.targetCenter_=null,n.targetResolution_,n.targetRotation_,i.center&&(i.center=Object(d.d)(i.center,n.projection_)),i.extent&&(i.extent=Object(d.e)(i.extent,n.projection_)),n.applyOptions_(i),n}return Ht(e,t),e.prototype.applyOptions_=function(t){var e=function(t){var e,n,i,o=void 0!==t.minZoom?t.minZoom:Zt,r=void 0!==t.maxZoom?t.maxZoom:28,a=void 0!==t.zoomFactor?t.zoomFactor:2,s=void 0!==t.multiWorld&&t.multiWorld,l=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,h=Object(d.b)(t.projection,"EPSG:3857"),u=h.getExtent(),c=t.constrainOnlyCenter,f=t.extent;s||f||!h.isGlobal()||(c=!1,f=u);if(void 0!==t.resolutions){var _=t.resolutions;n=_[o],i=void 0!==_[r]?_[r]:_[_.length-1],e=t.constrainResolution?function(t,e,n){return function(i,o,r,a){if(void 0!==i){var s=t[0],l=t[t.length-1],h=n?Dt(s,n,r):s;if(a)return void 0===e||e?kt(i,h,l):Object(p.a)(i,l,h);var u=Math.min(h,i),c=Math.floor(Object(L.h)(t,u,o));return t[c]>h&&c<t.length-1?t[c+1]:t[c]}}}(_,l,!c&&f):Nt(n,i,l,!c&&f)}else{var v=(u?Math.max(Object(M.E)(u),Object(M.A)(u)):360*d.a[Xt.b.DEGREES]/h.getMetersPerUnit())/At.b/Math.pow(2,Zt),g=v/Math.pow(2,28-Zt);void 0!==(n=t.maxResolution)?o=0:n=v/Math.pow(a,o),void 0===(i=t.minResolution)&&(i=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(a,r):v/Math.pow(a,r):g),r=o+Math.floor(Math.log(n/i)/Math.log(a)),i=n/Math.pow(a,r-o),e=t.constrainResolution?function(t,e,n,i,o){return function(r,a,s,l){if(void 0!==r){var h=o?Dt(e,o,s):e,u=void 0!==n?n:0;if(l)return void 0===i||i?kt(r,h,u):Object(p.a)(r,u,h);var c=Math.ceil(Math.log(e/h)/Math.log(t)-1e-9),d=-a*(.5-1e-9)+.5,f=Math.min(h,r),_=Math.floor(Math.log(e/f)/Math.log(t)+d),v=Math.max(c,_),g=e/Math.pow(t,v);return Object(p.a)(g,u,h)}}}(a,n,i,l,!c&&f):Nt(n,i,l,!c&&f)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:o,zoomFactor:a}}(t);this.maxResolution_=e.maxResolution,this.minResolution_=e.minResolution,this.zoomFactor_=e.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=e.minZoom;var n=function(t){if(void 0!==t.extent){var e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return Mt(t.extent,t.constrainOnlyCenter,e)}var n=Object(d.b)(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&n.isGlobal()){var i=n.getExtent().slice();return i[0]=-1/0,i[2]=1/0,Mt(i,!1,!1)}return Ft}(t),i=e.constraint,o=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?(r=o||Object(p.i)(5),function(t,e){return e?t:void 0!==t?Math.abs(t)<=r?0:t:void 0}):!1===e?Kt:"number"==typeof e?(n=e,i=2*Math.PI/n,function(t,e){return e?t:void 0!==t?t=Math.floor(t/i+.5)*i:void 0}):Kt}return Gt;var n,i;var o,r}(t);this.constraints_={center:n,resolution:i,rotation:o},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom),this.resolveConstraints(0),this.setProperties({}),this.options_=t},e.prototype.getUpdatedOptions_=function(t){var e=Object(m.a)({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),Object(m.a)({},e,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var e=new Array(arguments.length),n=0;n<e.length;++n){var i=arguments[n];i.center&&((i=Object(m.a)({},i)).center=Object(d.d)(i.center,this.getProjection())),i.anchor&&((i=Object(m.a)({},i)).anchor=Object(d.d)(i.anchor,this.getProjection())),e[n]=i}this.animateInternal.apply(this,e)},e.prototype.animateInternal=function(t){var e,n=arguments.length;if(n>1&&"function"==typeof arguments[n-1]&&(e=arguments[n-1],--n),!this.isDef()){var i=arguments[n-1];return i.center&&this.setCenterInternal(i.center),void 0!==i.zoom&&this.setZoom(i.zoom),void 0!==i.rotation&&this.setRotation(i.rotation),void(e&&qt(e,!0))}for(var o=Date.now(),r=this.targetCenter_.slice(),a=this.targetResolution_,s=this.targetRotation_,l=[],h=0;h<n;++h){var u=arguments[h],c={start:o,complete:!1,anchor:u.anchor,duration:void 0!==u.duration?u.duration:1e3,easing:u.easing||Ut.c,callback:e};if(u.center&&(c.sourceCenter=r,c.targetCenter=u.center.slice(),r=c.targetCenter),void 0!==u.zoom?(c.sourceResolution=a,c.targetResolution=this.getResolutionForZoom(u.zoom),a=c.targetResolution):u.resolution&&(c.sourceResolution=a,c.targetResolution=u.resolution,a=c.targetResolution),void 0!==u.rotation){c.sourceRotation=s;var d=Object(p.d)(u.rotation-s+Math.PI,2*Math.PI)-Math.PI;c.targetRotation=s+d,s=c.targetRotation}Jt(c)?c.complete=!0:o+=c.duration,l.push(c)}this.animations_.push(l),this.setHint(Vt.a.ANIMATING,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[Vt.a.ANIMATING]>0},e.prototype.getInteracting=function(){return this.hints_[Vt.a.INTERACTING]>0},e.prototype.cancelAnimations=function(){this.setHint(Vt.a.ANIMATING,-this.hints_[Vt.a.ANIMATING]);for(var t=0,e=this.animations_.length;t<e;++t){var n=this.animations_[t];n[0].callback&&qt(n[0].callback,!1)}this.animations_.length=0},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var i=this.animations_[n],o=!0,r=0,a=i.length;r<a;++r){var s=i[r];if(!s.complete){var l=t-s.start,h=s.duration>0?l/s.duration:1;h>=1?(s.complete=!0,h=1):o=!1;var u=s.easing(h);if(s.sourceCenter){var c=s.sourceCenter[0],d=s.sourceCenter[1],f=c+u*(s.targetCenter[0]-c),_=d+u*(s.targetCenter[1]-d);this.targetCenter_=[f,_]}if(s.sourceResolution&&s.targetResolution){var v=1===u?s.targetResolution:s.sourceResolution+u*(s.targetResolution-s.sourceResolution);if(s.anchor){var g=this.getSizeFromViewport_(this.getRotation()),y=this.constraints_.resolution(v,0,g,!0);this.targetCenter_=this.calculateCenterZoom(y,s.anchor)}this.targetResolution_=v,this.applyTargetState_(!0)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){var m=1===u?Object(p.d)(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+u*(s.targetRotation-s.sourceRotation);if(s.anchor){var E=this.constraints_.rotation(m,!0);this.targetCenter_=this.calculateCenterRotate(E,s.anchor)}this.targetRotation_=m}if(this.applyTargetState_(!0),e=!0,!s.complete)break}}if(o){this.animations_[n]=null,this.setHint(Vt.a.ANIMATING,-1);var b=i[0].callback;b&&qt(b,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,e){var n,i,o,r=this.getCenterInternal();return void 0!==r&&(T(n=[r[0]-e[0],r[1]-e[1]],t-this.getRotation()),o=e,(i=n)[0]+=+o[0],i[1]+=+o[1]),n},e.prototype.calculateCenterZoom=function(t,e){var n,i=this.getCenterInternal(),o=this.getResolution();void 0!==i&&void 0!==o&&(n=[e[0]-t*(e[0]-i[0])/o,e[1]-t*(e[1]-i[1])/o]);return n},e.prototype.getSizeFromViewport_=function(t){var e=[100,100],n='.ol-viewport[data-view="'+Object(R.c)(this)+'"]',i=document.querySelector(n);if(i){var o=getComputedStyle(i);e[0]=parseInt(o.width,10),e[1]=parseInt(o.height,10)}if(t){var r=e[0],a=e[1];e[0]=Math.abs(r*Math.cos(t))+Math.abs(a*Math.sin(t)),e[1]=Math.abs(r*Math.sin(t))+Math.abs(a*Math.cos(t))}return e},e.prototype.getCenter=function(){var t=this.getCenterInternal();return t?Object(d.l)(t,this.getProjection()):t},e.prototype.getCenterInternal=function(){return this.get(Yt)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var e=this.calculateExtentInternal(t);return Object(d.m)(e,this.getProjection())},e.prototype.calculateExtentInternal=function(t){var e=t||this.getSizeFromViewport_(),n=this.getCenterInternal();Object(j.a)(n,1);var i=this.getResolution();Object(j.a)(void 0!==i,2);var o=this.getRotation();return Object(j.a)(void 0!==o,3),Object(M.z)(n,i,o,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(Bt)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){return this.getResolutionForExtentInternal(Object(d.e)(t,this.getProjection()),e)},e.prototype.getResolutionForExtentInternal=function(t,e){var n=e||this.getSizeFromViewport_(),i=Object(M.E)(t)/n[0],o=Object(M.A)(t)/n[1];return Math.max(i,o)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.maxResolution_,i=this.minResolution_,o=Math.log(n/i)/Math.log(e);return function(t){return n/Math.pow(e,t*o)}},e.prototype.getRotation=function(){return this.get(zt)},e.prototype.getValueForResolutionFunction=function(t){var e=t||2,n=this.maxResolution_,i=this.minResolution_,o=Math.log(n/i)/Math.log(e);return function(t){return Math.log(n/t)/Math.log(e)/o}},e.prototype.getState=function(){var t=this.getCenterInternal(),e=this.getProjection(),n=this.getResolution(),i=this.getRotation();return{center:t.slice(0),projection:void 0!==e?e:null,resolution:n,rotation:i,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,n,i=this.minZoom_||0;if(this.resolutions_){var o=Object(L.h)(this.resolutions_,t,1);i=o,e=this.resolutions_[o],n=o==this.resolutions_.length-1?2:e/this.resolutions_[o+1]}else e=this.maxResolution_,n=this.zoomFactor_;return i+Math.log(e/t)/Math.log(n)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=Object(p.a)(Math.floor(t),0,this.resolutions_.length-2),n=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(n,Object(p.a)(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,e){var n,i=Object(m.a)({size:this.getSizeFromViewport_()},e||{});if(Object(j.a)(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)){Object(j.a)(!Object(M.H)(t),25);var o=Object(d.e)(t,this.getProjection());n=Object(c.c)(o)}else if(t.getType()===Wt.a.CIRCLE){o=Object(d.e)(t.getExtent(),this.getProjection());(n=Object(c.c)(o)).rotate(this.getRotation(),Object(M.x)(o))}else{var r=Object(d.j)();n=r?n.clone().transform(r,this.getProjection()):t}this.fitInternal(n,i)},e.prototype.fitInternal=function(t,e){var n=e||{},i=n.size;i||(i=this.getSizeFromViewport_());var o,r=void 0!==n.padding?n.padding:[0,0,0,0],a=void 0!==n.nearest&&n.nearest;o=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.getResolutionForZoom(n.maxZoom):0;for(var s=t.getFlatCoordinates(),l=this.getRotation(),h=Math.cos(-l),u=Math.sin(-l),c=1/0,p=1/0,d=-1/0,f=-1/0,_=t.getStride(),v=0,g=s.length;v<g;v+=_){var y=s[v]*h-s[v+1]*u,m=s[v]*u+s[v+1]*h;c=Math.min(c,y),p=Math.min(p,m),d=Math.max(d,y),f=Math.max(f,m)}var E=this.getResolutionForExtentInternal([c,p,d,f],[i[0]-r[1]-r[3],i[1]-r[0]-r[2]]);E=isNaN(E)?o:Math.max(E,o),E=this.getConstrainedResolution(E,a?0:1),u=-u;var b=(c+d)/2,O=(p+f)/2,T=[(b+=(r[1]-r[3])/2*E)*h-(O+=(r[0]-r[2])/2*E)*u,O*h+b*u],x=n.callback?n.callback:F.c;void 0!==n.duration?this.animateInternal({resolution:E,center:this.getConstrainedCenter(T,E),duration:n.duration,easing:n.easing},x):(this.targetResolution_=E,this.targetCenter_=T,this.applyTargetState_(!1,!0),qt(x,!0))},e.prototype.centerOn=function(t,e,n){this.centerOnInternal(Object(d.d)(t,this.getProjection()),e,n)},e.prototype.centerOnInternal=function(t,e,n){var i=this.getRotation(),o=Math.cos(-i),r=Math.sin(-i),a=t[0]*o-t[1]*r,s=t[1]*o+t[0]*r,l=this.getResolution(),h=(a+=(e[0]/2-n[0])*l)*o-(s+=(n[1]-e[1]/2)*l)*(r=-r),u=s*o+a*r;this.setCenterInternal([h,u])},e.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},e.prototype.adjustCenter=function(t){var e=Object(d.l)(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustCenterInternal=function(t){var e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustResolution=function(t,e){var n=e&&Object(d.d)(e,this.getProjection());this.adjustResolutionInternal(t,n)},e.prototype.adjustResolutionInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),i=this.getSizeFromViewport_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*t,0,i,n);void 0!==e&&(this.targetCenter_=this.calculateCenterZoom(o,e)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)},e.prototype.adjustRotation=function(t,e){e&&(e=Object(d.d)(e,this.getProjection())),this.adjustRotationInternal(t,e)},e.prototype.adjustRotationInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+t,n);void 0!==e&&(this.targetCenter_=this.calculateCenterRotate(i,e)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.setCenterInternal(Object(d.d)(t,this.getProjection()))},e.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,e){var n=this.getAnimating()||this.getInteracting()||e,i=this.constraints_.rotation(this.targetRotation_,n),o=this.getSizeFromViewport_(i),r=this.constraints_.resolution(this.targetResolution_,0,o,n),a=this.constraints_.center(this.targetCenter_,r,o,n);this.get(zt)!==i&&this.set(zt,i),this.get(Bt)!==r&&this.set(Bt,r),this.get(Yt)&&O(this.get(Yt),a)||this.set(Yt,a),this.getAnimating()&&!t&&this.cancelAnimations()},e.prototype.resolveConstraints=function(t,e,n){var i=void 0!==t?t:200,o=e||0,r=this.constraints_.rotation(this.targetRotation_),a=this.getSizeFromViewport_(r),s=this.constraints_.resolution(this.targetResolution_,o,a),l=this.constraints_.center(this.targetCenter_,s,a);if(0===i)return this.targetResolution_=s,this.targetRotation_=r,this.targetCenter_=l,void this.applyTargetState_();this.getResolution()===s&&this.getRotation()===r&&this.getCenterInternal()&&O(this.getCenterInternal(),l)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:r,center:l,resolution:s,duration:i,easing:Ut.b,anchor:n}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(Vt.a.INTERACTING,1)},e.prototype.endInteraction=function(t,e,n){var i=n&&Object(d.d)(n,this.getProjection());this.endInteractionInternal(t,e,i)},e.prototype.endInteractionInternal=function(t,e,n){this.setHint(Vt.a.INTERACTING,-1),this.resolveConstraints(t,e,n)},e.prototype.getConstrainedCenter=function(t,e){var n=this.getSizeFromViewport_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)},e.prototype.getConstrainedZoom=function(t,e){var n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))},e.prototype.getConstrainedResolution=function(t,e){var n=e||0,i=this.getSizeFromViewport_(this.getRotation());return this.constraints_.resolution(t,n,i)},e}(l.a),$t=n(16),te=n(84),ee=n(29),ne=n(8),ie=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();var oe=function(t){function e(e){var n=t.call(this)||this,i=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n,i,o,a={},s=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new te.a({layers:t.layers});a[Ct.LAYERGROUP]=s,a[Ct.TARGET]=t.target,a[Ct.VIEW]=void 0!==t.view?t.view:new Qt,void 0!==t.controls&&(Array.isArray(t.controls)?n=new r.a(t.controls.slice()):(Object(j.a)("function"==typeof t.controls.getArray,47),n=t.controls));void 0!==t.interactions&&(Array.isArray(t.interactions)?i=new r.a(t.interactions.slice()):(Object(j.a)("function"==typeof t.interactions.getArray,48),i=t.interactions));void 0!==t.overlays?Array.isArray(t.overlays)?o=new r.a(t.overlays.slice()):(Object(j.a)("function"==typeof t.overlays.getArray,49),o=t.overlays):o=new r.a;return{controls:n,interactions:i,keyboardEventTarget:e,overlays:o,values:a}}(e);n.boundHandleBrowserEvent_=n.handleBrowserEvent.bind(n),n.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,n.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:yt.a,n.postRenderTimeoutHandle_,n.animationDelayKey_,n.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(n),n.coordinateToPixelTransform_=Object(ne.c)(),n.pixelToCoordinateTransform_=Object(ne.c)(),n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement("div"),n.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),n.viewport_.style.position="relative",n.viewport_.style.overflow="hidden",n.viewport_.style.width="100%",n.viewport_.style.height="100%",n.viewport_.style.msTouchAction="none",n.viewport_.style.touchAction="none",n.overlayContainer_=document.createElement("div"),n.overlayContainer_.style.position="absolute",n.overlayContainer_.style.zIndex="0",n.overlayContainer_.style.width="100%",n.overlayContainer_.style.height="100%",n.overlayContainer_.className="ol-overlaycontainer",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement("div"),n.overlayContainerStopEvent_.style.position="absolute",n.overlayContainerStopEvent_.style.zIndex="0",n.overlayContainerStopEvent_.style.width="100%",n.overlayContainerStopEvent_.style.height="100%",n.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=new Pt(n,e.moveTolerance);var o=n.handleMapBrowserEvent.bind(n);for(var a in mt)n.mapBrowserEventHandler_.addEventListener(mt[a],o);n.keyboardEventTarget_=i.keyboardEventTarget,n.keyHandlerKeys_=null;var s=n.handleBrowserEvent.bind(n);return n.viewport_.addEventListener(u.a.CONTEXTMENU,s,!1),n.viewport_.addEventListener(u.a.WHEEL,s,!1),n.controls=i.controls||new r.a,n.interactions=i.interactions||new r.a,n.labelCache_=null,n.labelCacheListenerKey_,n.overlays_=i.overlays,n.overlayIdIndex_={},n.renderer_=null,n.handleResize_,n.postRenderFunctions_=[],n.tileQueue_=new jt(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.addEventListener(Object(l.b)(Ct.LAYERGROUP),n.handleLayerGroupChanged_),n.addEventListener(Object(l.b)(Ct.VIEW),n.handleViewChanged_),n.addEventListener(Object(l.b)(Ct.SIZE),n.handleSizeChanged_),n.addEventListener(Object(l.b)(Ct.TARGET),n.handleTargetChanged_),n.setProperties(i.values),n.controls.forEach(function(t){t.setMap(this)}.bind(n)),n.controls.addEventListener(I.a.ADD,function(t){t.element.setMap(this)}.bind(n)),n.controls.addEventListener(I.a.REMOVE,function(t){t.element.setMap(null)}.bind(n)),n.interactions.forEach(function(t){t.setMap(this)}.bind(n)),n.interactions.addEventListener(I.a.ADD,function(t){t.element.setMap(this)}.bind(n)),n.interactions.addEventListener(I.a.REMOVE,function(t){t.element.setMap(null)}.bind(n)),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),n.overlays_.addEventListener(I.a.ADD,function(t){this.addOverlayInternal_(t.element)}.bind(n)),n.overlays_.addEventListener(I.a.REMOVE,function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)}.bind(n)),n}return ie(e,t),e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),this.viewport_.removeEventListener(u.a.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(u.a.WHEEL,this.boundHandleBrowserEvent_),void 0!==this.handleResize_&&(removeEventListener(u.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_){var i=this.getCoordinateFromPixelInternal(t),o=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,r=void 0!==n.layerFilter?n.layerFilter:F.b,a=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,o,a,e,null,r,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var n=[];return this.forEachFeatureAtPixel(t,(function(t){n.push(t)}),e),n},e.prototype.forEachLayerAtPixel=function(t,e,n){if(this.frameState_){var i=n||{},o=void 0!==i.hitTolerance?i.hitTolerance*this.frameState_.pixelRatio:0,r=i.layerFilter||F.b;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,o,e,r)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixelInternal(t),i=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:F.b,o=void 0!==e.hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0,r=!1!==e.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,o,r,i,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n="changedTouches"in t?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},e.prototype.getTarget=function(){return this.get(Ct.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){return Object(d.l)(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},e.prototype.getCoordinateFromPixelInternal=function(t){var e=this.frameState_;return e?Object(ne.a)(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(Ct.LAYERGROUP)},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getLoading=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var i=t[e].layer.getSource();if(i&&i.loading)return!0}return!1},e.prototype.getPixelFromCoordinate=function(t){var e=Object(d.d)(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)},e.prototype.getPixelFromCoordinateInternal=function(t){var e=this.frameState_;return e?Object(ne.a)(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(Ct.SIZE)},e.prototype.getView=function(){return this.get(Ct.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getTilePriority=function(t,e,n,i){var o=this.frameState_;if(!(o&&e in o.wantedTiles))return 1/0;if(!o.wantedTiles[e][t.getKey()])return 1/0;var r=o.viewState.center,a=n[0]-r[0],s=n[1]-r[1];return 65536*Math.log(i)+Math.sqrt(a*a+s*s)/i},e.prototype.handleBrowserEvent=function(t,e){var n=e||t.type,i=new gt(n,this,t);this.handleMapBrowserEvent(i)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){for(var e=t.originalEvent.target;e instanceof HTMLElement;){if(e.parentElement===this.overlayContainerStopEvent_)return;e=e.parentElement}t.frameState=this.frameState_;var n=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(var i=n.length-1;i>=0;i--){var o=n[i];if(o.getActive())if(!o.handleEvent(t))break}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,i=n;if(t){var o=t.viewHints;if(o[Vt.a.ANIMATING]||o[Vt.a.INTERACTING]){var r=!yt.c&&Date.now()-t.time>8;n=r?0:8,i=r?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,i))}!t||!this.hasListener(Rt.a.RENDERCOMPLETE)||t.animate||this.tileQueue_.getTilesLoading()||this.getLoading()||this.renderer_.dispatchRenderEvent(Rt.a.RENDERCOMPLETE,t);for(var a=this.postRenderFunctions_,s=0,l=a.length;s<l;++s)a[s](this,t);a.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.keyHandlerKeys_){for(var e=0,n=this.keyHandlerKeys_.length;e<n;++e)Object(A.c)(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer());var i=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[Object(A.a)(i,u.a.KEYDOWN,this.handleBrowserEvent,this),Object(A.a)(i,u.a.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(u.a.RESIZE,this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),Object($t.e)(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(u.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Object(A.c)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Object(A.c)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",Object(R.c)(t)),this.viewPropertyListenerKey_=Object(A.a)(t,S.a.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Object(A.a)(t,u.a.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(A.c),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[Object(A.a)(t,S.a.PROPERTYCHANGE,this.render,this),Object(A.a)(t,u.a.CHANGE,this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var i=t[e].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e=this.getSize(),n=this.getView(),i=this.frameState_,o=null;if(void 0!==e&&Object(ee.a)(e)&&n&&n.isDef()){var r=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=n.getState();o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterItems:i?i.declutterItems:[],extent:Object(M.z)(a.center,a.resolution,a.rotation,e),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:e,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:a,viewHints:r,wantedTiles:{}}}if(this.frameState_=o,this.renderer_.renderFrame(o),o){if(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),i)(!this.previousExtent_||!Object(M.H)(this.previousExtent_)&&!Object(M.p)(o.extent,this.previousExtent_))&&(this.dispatchEvent(new _t(wt.a.MOVESTART,this,i)),this.previousExtent_=Object(M.l)(this.previousExtent_));this.previousExtent_&&!o.viewHints[Vt.a.ANIMATING]&&!o.viewHints[Vt.a.INTERACTING]&&!Object(M.p)(o.extent,this.previousExtent_)&&(this.dispatchEvent(new _t(wt.a.MOVEEND,this,o)),Object(M.d)(o.extent,this.previousExtent_))}this.dispatchEvent(new _t(wt.a.POSTRENDER,this,o)),this.postRenderTimeoutHandle_=setTimeout(this.handlePostRender.bind(this),0)},e.prototype.setLayerGroup=function(t){this.set(Ct.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(Ct.SIZE,t)},e.prototype.setTarget=function(t){this.set(Ct.TARGET,t)},e.prototype.setView=function(t){this.set(Ct.VIEW,t)},e.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0)},e}(l.a),re=n(91),ae="active",se=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function le(t,e,n,i){var o=t.getZoom();if(void 0!==o){var r=t.getConstrainedZoom(o+e),a=t.getResolutionForZoom(r);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:a,anchor:n,duration:void 0!==i?i:250,easing:Ut.b})}}var he=function(t){function e(e){var n=t.call(this)||this;return e.handleEvent&&(n.handleEvent=e.handleEvent),n.map_=null,n.setActive(!0),n}return se(e,t),e.prototype.getActive=function(){return this.get(ae)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(ae,t)},e.prototype.setMap=function(t){this.map_=t},e}(l.a),ue=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function ce(t){var e=!1;if(t.type==mt.DBLCLICK){var n=t.originalEvent,i=t.map,o=t.coordinate,r=n.shiftKey?-this.delta_:this.delta_;le(i.getView(),r,o,this.duration_),t.preventDefault(),e=!0}return!e}var pe=function(t){function e(e){var n=t.call(this,{handleEvent:ce})||this,i=e||{};return n.delta_=i.delta?i.delta:1,n.duration_=void 0!==i.duration?i.duration:250,n}return ue(e,t),e}(he),de=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},fe=function(t){return t.target.getTargetElement()===document.activeElement},_e=F.b,ve=function(t){var e=t.originalEvent;return 0==e.button&&!(yt.e&&yt.d&&e.ctrlKey)},ge=(F.a,function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey}),ye=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},me=function(t){var e=t.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},Ee=function(t){var e=t.pointerEvent;return Object(j.a)(void 0!==e,56),"mouse"==e.pointerType},be=function(t){var e=t.pointerEvent;return Object(j.a)(void 0!==e,56),e.isPrimary&&0===e.button},Oe=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Te(t){for(var e=t.length,n=0,i=0,o=0;o<e;o++)n+=t[o].clientX,i+=t[o].clientY;return[n/e,i/e]}var xe=function(t){function e(e){var n=this,i=e||{};return n=t.call(this,i)||this,i.handleDownEvent&&(n.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(n.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(n.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(n.handleUpEvent=i.handleUpEvent),i.stopDown&&(n.stopDown=i.stopDown),n.handlingDownUpSequence=!1,n.trackedPointers_={},n.targetPointers=[],n}return Oe(e,t),e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.pointerEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==mt.POINTERDRAG)this.handleDragEvent(t);else if(t.type==mt.POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==mt.POINTERDOWN){var i=this.handleDownEvent(t);i&&t.preventDefault(),this.handlingDownUpSequence=i,e=this.stopDown(i)}else t.type==mt.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===mt.POINTERDOWN||e===mt.POINTERDRAG||e===mt.POINTERUP}(t)){var e=t.pointerEvent,n=e.pointerId.toString();t.type==mt.POINTERUP?delete this.trackedPointers_[n]:t.type==mt.POINTERDOWN?this.trackedPointers_[n]=e:n in this.trackedPointers_&&(this.trackedPointers_[n]=e),this.targetPointers=Object(m.c)(this.trackedPointers_)}},e}(he),Pe=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function we(t){return ge(t)&&be(t)}var Ce=function(t){function e(e){var n=t.call(this,{stopDown:F.a})||this,i=e||{};return n.kinetic_=i.kinetic,n.lastCentroid=null,n.lastPointersCount_,n.panning_=!1,n.condition_=i.condition?i.condition:we,n.noKinetic_=!1,n}return Pe(e,t),e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var e=this.targetPointers,n=Te(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){var i=[this.lastCentroid[0]-n[0],n[1]-this.lastCentroid[1]],o=t.map.getView();!function(t,e){t[0]*=e,t[1]*=e}(i,o.getResolution()),T(i,o.getRotation()),o.adjustCenterInternal(i)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=e.length},e.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),r=n.getCenterInternal(),a=e.getPixelFromCoordinateInternal(r),s=e.getCoordinateFromPixelInternal([a[0]-i*Math.cos(o),a[1]-i*Math.sin(o)]);n.animateInternal({center:n.getConstrainedCenter(s),duration:500,easing:Ut.b})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(xe),Re=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ie=function(t){function e(e){var n=this,i=e||{};return(n=t.call(this,{stopDown:F.a})||this).condition_=i.condition?i.condition:de,n.lastAngle_=void 0,n.duration_=void 0!==i.duration?i.duration:250,n}return Re(e,t),e.prototype.handleDragEvent=function(t){if(Ee(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==Gt){var i=e.getSize(),o=t.pixel,r=Math.atan2(i[1]/2-o[1],o[0]-i[0]/2);if(void 0!==this.lastAngle_){var a=r-this.lastAngle_;n.adjustRotationInternal(-a)}this.lastAngle_=r}}},e.prototype.handleUpEvent=function(t){return!Ee(t)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){return!!Ee(t)&&(!(!ve(t)||!this.condition_(t))&&(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0))},e}(xe),Se=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Le=function(t){function e(e){var n=t.call(this)||this;return n.geometry_=null,n.element_=document.createElement("div"),n.element_.style.position="absolute",n.element_.className="ol-box "+e,n.map_=null,n.startPixel_=null,n.endPixel_=null,n}return Se(e,t),e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n=this.element_.style;n.left=Math.min(t[0],e[0])+"px",n.top=Math.min(t[1],e[1])+"px",n.width=Math.abs(e[0]-t[0])+"px",n.height=Math.abs(e[1]-t[1])+"px"},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left=e.top=e.width=e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new c.b([n])},e.prototype.getGeometry=function(){return this.geometry_},e}(a.a),je=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ae="boxstart",Me="boxdrag",Fe="boxend",De=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.coordinate=n,o.mapBrowserEvent=i,o}return je(e,t),e}(h.a),ke=function(t){function e(e){var n=t.call(this)||this,i=e||{};return n.box_=new Le(i.className||"ol-dragbox"),n.minArea_=void 0!==i.minArea?i.minArea:64,n.onBoxEnd_=i.onBoxEnd?i.onBoxEnd:F.c,n.startPixel_=null,n.condition_=i.condition?i.condition:_e,n.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:n.defaultBoxEndCondition,n}return je(e,t),e.prototype.defaultBoxEndCondition=function(t,e,n){var i=n[0]-e[0],o=n[1]-e[1];return i*i+o*o>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){Ee(t)&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new De(Me,t.coordinate,t)))},e.prototype.handleUpEvent=function(t){return!Ee(t)||(this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd_(t),this.dispatchEvent(new De(Fe,t.coordinate,t))),!1)},e.prototype.handleDownEvent=function(t){return!!Ee(t)&&(!(!ve(t)||!this.condition_(t))&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new De(Ae,t.coordinate,t)),!0))},e}(xe),Ne=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Ge(){var t=this.getMap(),e=t.getView(),n=t.getSize(),i=this.getGeometry().getExtent();if(this.out_){var o=e.calculateExtentInternal(n),r=Object(M.n)([t.getPixelFromCoordinateInternal(Object(M.v)(i)),t.getPixelFromCoordinateInternal(Object(M.D)(i))]),a=e.getResolutionForExtentInternal(r,n);Object(M.J)(o,1/a),i=o}var s=e.getConstrainedResolution(e.getResolutionForExtentInternal(i,n)),l=e.getConstrainedCenter(Object(M.x)(i),s);e.animateInternal({resolution:s,center:l,duration:this.duration_,easing:Ut.b})}var Ke=function(t){function e(e){var n=this,i=e||{},o=i.condition?i.condition:ye;return(n=t.call(this,{condition:o,className:i.className||"ol-dragzoom",minArea:i.minArea,onBoxEnd:Ge})||this).duration_=void 0!==i.duration?i.duration:200,n.out_=void 0!==i.out&&i.out,n}return Ne(e,t),e}(ke),Ve={LEFT:37,UP:38,RIGHT:39,DOWN:40},Ye=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Be(t){var e=!1;if(t.type==u.a.KEYDOWN){var n=t.originalEvent.keyCode;if(this.condition_(t)&&(n==Ve.DOWN||n==Ve.LEFT||n==Ve.RIGHT||n==Ve.UP)){var i=t.map.getView(),o=i.getResolution()*this.pixelDelta_,r=0,a=0;n==Ve.DOWN?a=-o:n==Ve.LEFT?r=-o:n==Ve.RIGHT?r=o:a=o;var s=[r,a];T(s,i.getRotation()),function(t,e,n){var i=t.getCenterInternal();if(i){var o=[i[0]+e[0],i[1]+e[1]];t.animateInternal({duration:void 0!==n?n:250,easing:Ut.d,center:t.getConstrainedCenter(o)})}}(i,s,this.duration_),t.preventDefault(),e=!0}}return!e}var ze=function(t){function e(e){var n=t.call(this,{handleEvent:Be})||this,i=e||{};return n.defaultCondition_=function(t){return ge(t)&&me(t)},n.condition_=void 0!==i.condition?i.condition:n.defaultCondition_,n.duration_=void 0!==i.duration?i.duration:100,n.pixelDelta_=void 0!==i.pixelDelta?i.pixelDelta:128,n}return Ye(e,t),e}(he),Ue=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function We(t){var e=!1;if(t.type==u.a.KEYDOWN||t.type==u.a.KEYPRESS){var n=t.originalEvent.charCode;if(this.condition_(t)&&(n=="+".charCodeAt(0)||n=="-".charCodeAt(0))){var i=t.map,o=n=="+".charCodeAt(0)?this.delta_:-this.delta_;le(i.getView(),o,void 0,this.duration_),t.preventDefault(),e=!0}}return!e}var Xe=function(t){function e(e){var n=t.call(this,{handleEvent:We})||this,i=e||{};return n.condition_=i.condition?i.condition:me,n.delta_=i.delta?i.delta:1,n.duration_=void 0!==i.duration?i.duration:100,n}return Ue(e,t),e}(he),He=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ze="trackpad",qe="wheel",Je=function(t){function e(e){var n=this,i=e||{};return(n=t.call(this,i)||this).totalDelta_=0,n.lastDelta_=0,n.maxDelta_=void 0!==i.maxDelta?i.maxDelta:1,n.duration_=void 0!==i.duration?i.duration:250,n.timeout_=void 0!==i.timeout?i.timeout:80,n.useAnchor_=void 0===i.useAnchor||i.useAnchor,n.condition_=i.condition?i.condition:_e,n.lastAnchor_=null,n.startTime_=void 0,n.timeoutId_,n.mode_=void 0,n.trackpadEventGap_=400,n.trackpadTimeoutId_,n.trackpadDeltaPerZoom_=300,n}return He(e,t),e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,Math.sign(this.lastDelta_),this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;if(t.type!==u.a.WHEEL)return!0;t.preventDefault();var e,n=t.map,i=t.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==u.a.WHEEL&&(e=i.deltaY,yt.b&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(e/=yt.a),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(e*=40)),0===e)return!1;this.lastDelta_=e;var o=Date.now();if(void 0===this.startTime_&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(e)<4?Ze:qe),this.mode_===Ze){var r=n.getView();return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):r.beginInteraction(),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.trackpadEventGap_),r.adjustZoom(-e/this.trackpadDeltaPerZoom_,this.lastAnchor_),this.startTime_=o,!1}this.totalDelta_+=e;var a=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),a),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations(),le(e,-Object(p.a)(this.totalDelta_,-this.maxDelta_,this.maxDelta_),this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(he),Qe=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$e=function(t){function e(e){var n=this,i=e||{},o=i;return o.stopDown||(o.stopDown=F.a),(n=t.call(this,o)||this).anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=void 0!==i.threshold?i.threshold:.3,n.duration_=void 0!==i.duration?i.duration:250,n}return Qe(e,t),e.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],i=this.targetPointers[1],o=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(void 0!==this.lastAngle_){var r=o-this.lastAngle_;this.rotationDelta_+=r,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=r}this.lastAngle_=o;var a=t.map,s=a.getView();if(s.getConstraints().rotation!==Gt){var l=a.getViewport().getBoundingClientRect(),h=Te(this.targetPointers);h[0]-=l.left,h[1]-=l.top,this.anchor_=a.getCoordinateFromPixelInternal(h),this.rotating_&&(a.render(),s.adjustRotationInternal(e,this.anchor_))}},e.prototype.handleUpEvent=function(t){return!(this.targetPointers.length<2)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(xe),tn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),en=function(t){function e(e){var n=this,i=e||{},o=i;return o.stopDown||(o.stopDown=F.a),(n=t.call(this,o)||this).anchor_=null,n.duration_=void 0!==i.duration?i.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return tn(e,t),e.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],i=this.targetPointers[1],o=n.clientX-i.clientX,r=n.clientY-i.clientY,a=Math.sqrt(o*o+r*r);void 0!==this.lastDistance_&&(e=this.lastDistance_/a),this.lastDistance_=a;var s=t.map,l=s.getView();1!=e&&(this.lastScaleDelta_=e);var h=s.getViewport().getBoundingClientRect(),u=Te(this.targetPointers);u[0]-=h.left,u[1]-=h.top,this.anchor_=s.getCoordinateFromPixelInternal(u),s.render(),l.adjustResolutionInternal(e,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView(),n=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,n),!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(xe);var nn=n(21),on=n(48),rn=n(85),an=n(66),sn=function(){function t(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},t.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var e in this.cache_){var n=this.cache_[e];0!=(3&t++)||n.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},t.prototype.get=function(t,e,n){var i=ln(t,e,n);return i in this.cache_?this.cache_[i]:null},t.prototype.set=function(t,e,n,i){var o=ln(t,e,n);this.cache_[o]=i,++this.cacheSize_},t.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},t}();function ln(t,e,n){return e+":"+t+":"+(n?Object(an.b)(n):"null")}var hn=new sn,un=n(33),cn=n(26),pn=n(31),dn=n(88),fn=n(4),_n=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();(function(t){function e(e,n,i,o,r,a,s){var l=t.call(this)||this;return l.context_=e,l.pixelRatio_=n,l.extent_=i,l.transform_=o,l.viewRotation_=r,l.squaredTolerance_=a,l.userTransform_=s,l.contextFillState_=null,l.contextStrokeState_=null,l.contextTextState_=null,l.fillState_=null,l.strokeState_=null,l.image_=null,l.imageAnchorX_=0,l.imageAnchorY_=0,l.imageHeight_=0,l.imageOpacity_=0,l.imageOriginX_=0,l.imageOriginY_=0,l.imageRotateWithView_=!1,l.imageRotation_=0,l.imageScale_=0,l.imageWidth_=0,l.text_="",l.textOffsetX_=0,l.textOffsetY_=0,l.textRotateWithView_=!1,l.textRotation_=0,l.textScale_=0,l.textFillState_=null,l.textStrokeState_=null,l.textState_=null,l.pixelCoordinates_=[],l.tmpLocalTransform_=Object(ne.c)(),l}_n(e,t),e.prototype.drawImages_=function(t,e,n,i){if(this.image_){var o=Object(pn.c)(t,e,n,2,this.transform_,this.pixelCoordinates_),r=this.context_,a=this.tmpLocalTransform_,s=r.globalAlpha;1!=this.imageOpacity_&&(r.globalAlpha=s*this.imageOpacity_);var l=this.imageRotation_;this.imageRotateWithView_&&(l+=this.viewRotation_);for(var h=0,u=o.length;h<u;h+=2){var c=o[h]-this.imageAnchorX_,p=o[h+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_){var d=c+this.imageAnchorX_,f=p+this.imageAnchorY_;Object(ne.b)(a,d,f,this.imageScale_,this.imageScale_,l,-d,-f),r.setTransform.apply(r,a)}r.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,c,p,this.imageWidth_,this.imageHeight_)}0===l&&1==this.imageScale_||r.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(r.globalAlpha=s)}},e.prototype.drawText_=function(t,e,n,i){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var o=Object(pn.c)(t,e,n,i,this.transform_,this.pixelCoordinates_),r=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);e<n;e+=i){var s=o[e]+this.textOffsetX_,l=o[e+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_){var h=Object(ne.b)(this.tmpLocalTransform_,s,l,this.textScale_,this.textScale_,a,-s,-l);r.setTransform.apply(r,h)}this.textStrokeState_&&r.strokeText(this.text_,s,l),this.textFillState_&&r.fillText(this.text_,s,l)}0===a&&1==this.textScale_||r.setTransform(1,0,0,1,0,0)}},e.prototype.moveToLineTo_=function(t,e,n,i,o){var r=this.context_,a=Object(pn.c)(t,e,n,i,this.transform_,this.pixelCoordinates_);r.moveTo(a[0],a[1]);var s=a.length;o&&(s-=2);for(var l=2;l<s;l+=2)r.lineTo(a[l],a[l+1]);return o&&r.closePath(),n},e.prototype.drawRings_=function(t,e,n,i){for(var o=0,r=n.length;o<r;++o)e=this.moveToLineTo_(t,e,n[o],i,!0);return e},e.prototype.drawCircle=function(t){if(Object(M.F)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=Object(cn.b)(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],i=e[3]-e[1],o=Math.sqrt(n*n+i*i),r=this.context_;r.beginPath(),r.arc(e[0],e[1],o,0,2*Math.PI),this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.drawGeometry=function(t){switch(t.getType()){case Wt.a.POINT:this.drawPoint(t);break;case Wt.a.LINE_STRING:this.drawLineString(t);break;case Wt.a.POLYGON:this.drawPolygon(t);break;case Wt.a.MULTI_POINT:this.drawMultiPoint(t);break;case Wt.a.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case Wt.a.MULTI_POLYGON:this.drawMultiPolygon(t);break;case Wt.a.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case Wt.a.CIRCLE:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&Object(M.F)(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),n=0,i=e.length;n<i;++n)this.drawGeometry(e[n])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(M.F)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var i=t.getFlatMidpoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if(Object(M.F)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=t.getFlatCoordinates(),o=0,r=t.getEnds(),a=t.getStride();n.beginPath();for(var s=0,l=r.length;s<l;++s)o=this.moveToLineTo_(i,o,r[s],a,!1);n.stroke()}if(""!==this.text_){var h=t.getFlatMidpoints();this.drawText_(h,0,h.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(M.F)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(M.F)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),i=0,o=t.getEndss(),r=t.getStride();e.beginPath();for(var a=0,s=o.length;a<s;++a){var l=o[a];i=this.drawRings_(n,i,l,r)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var h=t.getFlatInteriorPoints();this.drawText_(h,0,h.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=e.lineCap=t.lineCap),e.setLineDash&&(Object(L.b)(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,i=t.textAlign?t.textAlign:fn.l;n?(n.font!=t.font&&(n.font=e.font=t.font),n.textAlign!=i&&(n.textAlign=e.textAlign=i),n.textBaseline!=t.textBaseline&&(n.textBaseline=e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=i,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var n=t.getColor();this.fillState_={fillStyle:Object(un.a)(n||fn.b)}}else this.fillState_=null;if(e){var i=e.getColor(),o=e.getLineCap(),r=e.getLineDash(),a=e.getLineDashOffset(),s=e.getLineJoin(),l=e.getWidth(),h=e.getMiterLimit();this.strokeState_={lineCap:void 0!==o?o:fn.d,lineDash:r||fn.e,lineDashOffset:a||fn.f,lineJoin:void 0!==s?s:fn.g,lineWidth:this.pixelRatio_*(void 0!==l?l:fn.h),miterLimit:void 0!==h?h:fn.i,strokeStyle:Object(un.a)(i||fn.k)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),n=t.getImage(1),i=t.getOrigin(),o=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=o[1],this.image_=n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=i[0],this.imageOriginY_=i[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageWidth_=o[0]}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:Object(un.a)(n||fn.b)}}else this.textFillState_=null;var i=t.getStroke();if(i){var o=i.getColor(),r=i.getLineCap(),a=i.getLineDash(),s=i.getLineDashOffset(),l=i.getLineJoin(),h=i.getWidth(),u=i.getMiterLimit();this.textStrokeState_={lineCap:void 0!==r?r:fn.d,lineDash:a||fn.e,lineDashOffset:s||fn.f,lineJoin:void 0!==l?l:fn.g,lineWidth:void 0!==h?h:fn.h,miterLimit:void 0!==u?u:fn.i,strokeStyle:Object(un.a)(o||fn.k)}}else this.textStrokeState_=null;var c=t.getFont(),p=t.getOffsetX(),d=t.getOffsetY(),f=t.getRotateWithView(),_=t.getRotation(),v=t.getScale(),g=t.getText(),y=t.getTextAlign(),m=t.getTextBaseline();this.textState_={font:void 0!==c?c:fn.c,textAlign:void 0!==y?y:fn.l,textBaseline:void 0!==m?m:fn.m},this.text_=void 0!==g?g:"",this.textOffsetX_=void 0!==p?this.pixelRatio_*p:0,this.textOffsetY_=void 0!==d?this.pixelRatio_*d:0,this.textRotateWithView_=void 0!==f&&f,this.textRotation_=void 0!==_?_:0,this.textScale_=this.pixelRatio_*(void 0!==v?v:1)}else this.text_=""}})(dn.a),n(53);var vn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function gn(t,e){hn.expire()}var yn=function(t){function e(e){var n=t.call(this)||this;return n.map_=e,n.declutterTree_=null,n}return vn(e,t),e.prototype.dispatchRenderEvent=function(t,e){Object(R.b)()},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;Object(ne.b)(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),Object(ne.d)(i,n)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,o,r,a,s){var l,h=e.viewState;function u(t,e,n){return o.call(r,e,t?n:null)}var c=h.projection,p=t,d=[[0,0]];if(c.canWrapX()){var f=c.getExtent(),_=Object(M.E)(f),v=t[0];if(v<f[0]||v>f[2])p=[v+_*Math.ceil((f[0]-v)/_),t[1]];i&&d.push([-_,0],[_,0])}var g,y=e.layerStatesArray,m=y.length;this.declutterTree_&&(g=this.declutterTree_.all().map((function(t){return t.value})));for(var E=[],b=0;b<d.length;b++)for(var O=m-1;O>=0;--O){var T=y[O],x=T.layer;if(x.hasRenderer()&&Object(on.b)(T,h)&&a.call(s,x)){var P=x.getRenderer(),w=x.getSource(),C=w.getWrapX()?p:t;if(P&&w){var R=u.bind(null,T.managed);E[0]=C[0]+d[b][0],E[1]=C[1]+d[b][1],l=P.forEachFeatureAtCoordinate(E,e,n,R,g)}if(l)return l}}},e.prototype.forEachLayerAtPixel=function(t,e,n,i,o){return Object(R.b)()},e.prototype.hasFeatureAtCoordinate=function(t,e,n,i,o,r){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,i,F.b,this,o,r)},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(t){this.declutterTree_=function(t,e){e&&e.clear();for(var n=t.declutterItems,i=n.length-1;i>=0;--i)for(var o=n[i],r=o.items,a=0,s=r.length;a<s;a+=3)e=r[a].renderDeclutter(r[a+1],r[a+2],o.opacity,e);return n.length=0,e}(t,this.declutterTree_)},e.prototype.scheduleExpireIconCache=function(t){hn.canExpireCache()&&t.postRenderFunctions.push(gn)},e}(a.a),mn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),En=function(t){function e(e){var n=t.call(this,e)||this;n.labelCacheKey_=Object(A.a)(fn.o,u.a.CLEAR,e.redrawText.bind(e)),n.element_=document.createElement("div");var i=n.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",n.element_.className=nn.e+" ol-layers";var o=e.getViewport();return o.insertBefore(n.element_,o.firstChild||null),n.children_=[],n.renderedVisible_=!0,n}return mn(e,t),e.prototype.dispatchRenderEvent=function(t,e){var n=this.getMap();if(n.hasListener(t)){var i=new rn.a(t,void 0,e);n.dispatchEvent(i)}},e.prototype.disposeInternal=function(){Object(A.c)(this.labelCacheKey_),t.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(e){if(e){this.calculateMatrices2D(e),this.dispatchRenderEvent(Rt.a.PRECOMPOSE,e);var n=e.layerStatesArray.sort((function(t,e){return t.zIndex-e.zIndex})),i=e.viewState;this.children_.length=0;for(var o=!1,r=null,a=0,s=n.length;a<s;++a){var l=n[a];if(o=o||l.hasOverlay,e.layerIndex=a,Object(on.b)(l,i)&&(l.sourceState==Y.a.READY||l.sourceState==Y.a.UNDEFINED)){var h=l.layer.render(e,r);if(h){var u=h.childElementCount;h===r&&a!=s-1||2!==u||o||h.removeChild(h.lastElementChild),h!==r&&(this.children_.push(h),o=2===u,r=h)}}}t.prototype.renderFrame.call(this,e),Object($t.f)(this.element_,this.children_),this.dispatchRenderEvent(Rt.a.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,n,i,o){for(var r=e.viewState,a=e.layerStatesArray,s=a.length-1;s>=0;--s){var l=a[s],h=l.layer;if(h.hasRenderer()&&Object(on.b)(l,r)&&o(h)){var u=h.getRenderer().getDataAtPixel(t,e,n);if(u){var c=i(h,u);if(c)return c}}}},e}(yn),bn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),On=function(t){function e(e){return(e=Object(m.a)({},e)).controls||(e.controls=Object(re.a)()),e.interactions||(e.interactions=function(t){var e=t||{},n=new r.a,i=new dt(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new Ie),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new pe({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&n.push(new Ce({condition:e.onFocusOnly?fe:void 0,kinetic:i})),(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new $e),(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new en({duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(n.push(new ze),n.push(new Xe({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new Je({condition:e.onFocusOnly?fe:void 0,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new Ke({duration:e.zoomDuration})),n}()),t.call(this,e)||this}return bn(e,t),e.prototype.createRenderer=function(){return new En(this)},e}(oe),Tn=n(56),xn={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"},Pn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),wn={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},Cn=function(t){function e(e){var n=t.call(this)||this;return n.options=e,n.id=e.id,n.insertFirst=void 0===e.insertFirst||e.insertFirst,n.stopEvent=void 0===e.stopEvent||e.stopEvent,n.element=document.createElement("div"),n.element.className=void 0!==e.className?e.className:"ol-overlay-container "+nn.d,n.element.style.position="absolute",n.autoPan=void 0!==e.autoPan&&e.autoPan,n.autoPanAnimation=e.autoPanAnimation||{},n.autoPanMargin=void 0!==e.autoPanMargin?e.autoPanMargin:20,n.rendered={bottom_:"",left_:"",right_:"",top_:"",visible:!0},n.mapPostrenderListenerKey=null,n.addEventListener(Object(l.b)(wn.ELEMENT),n.handleElementChanged),n.addEventListener(Object(l.b)(wn.MAP),n.handleMapChanged),n.addEventListener(Object(l.b)(wn.OFFSET),n.handleOffsetChanged),n.addEventListener(Object(l.b)(wn.POSITION),n.handlePositionChanged),n.addEventListener(Object(l.b)(wn.POSITIONING),n.handlePositioningChanged),void 0!==e.element&&n.setElement(e.element),n.setOffset(void 0!==e.offset?e.offset:[0,0]),n.setPositioning(void 0!==e.positioning?e.positioning:xn.TOP_LEFT),void 0!==e.position&&n.setPosition(e.position),n}return Pn(e,t),e.prototype.getElement=function(){return this.get(wn.ELEMENT)},e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.get(wn.MAP)},e.prototype.getOffset=function(){return this.get(wn.OFFSET)},e.prototype.getPosition=function(){return this.get(wn.POSITION)},e.prototype.getPositioning=function(){return this.get(wn.POSITIONING)},e.prototype.handleElementChanged=function(){Object($t.d)(this.element);var t=this.getElement();t&&this.element.appendChild(t)},e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Object($t.e)(this.element),Object(A.c)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=Object(A.a)(t,wt.a.POSTRENDER,this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element)}},e.prototype.render=function(){this.updatePixelPosition()},e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},e.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.get(wn.POSITION)&&this.autoPan&&this.panIntoView()},e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},e.prototype.setElement=function(t){this.set(wn.ELEMENT,t)},e.prototype.setMap=function(t){this.set(wn.MAP,t)},e.prototype.setOffset=function(t){this.set(wn.OFFSET,t)},e.prototype.setPosition=function(t){this.set(wn.POSITION,t)},e.prototype.panIntoView=function(){var t=this.getMap();if(t&&t.getTargetElement()){var e=this.getRect(t.getTargetElement(),t.getSize()),n=this.getElement(),i=this.getRect(n,[Object($t.c)(n),Object($t.b)(n)]),o=this.autoPanMargin;if(!Object(M.g)(e,i)){var r=i[0]-e[0],a=e[2]-i[2],s=i[1]-e[1],l=e[3]-i[3],h=[0,0];if(r<0?h[0]=r-o:a<0&&(h[0]=Math.abs(a)+o),s<0?h[1]=s-o:l<0&&(h[1]=Math.abs(l)+o),0!==h[0]||0!==h[1]){var u=t.getView().getCenterInternal(),c=t.getPixelFromCoordinateInternal(u),p=[c[0]+h[0],c[1]+h[1]];t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(p),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing})}}}},e.prototype.getRect=function(t,e){var n=t.getBoundingClientRect(),i=n.left+window.pageXOffset,o=n.top+window.pageYOffset;return[i,o,i+e[0],o+e[1]]},e.prototype.setPositioning=function(t){this.set(wn.POSITIONING,t)},e.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},e.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(t&&t.isRendered()&&e){var n=t.getPixelFromCoordinate(e),i=t.getSize();this.updateRenderedPosition(n,i)}else this.setVisible(!1)},e.prototype.updateRenderedPosition=function(t,e){var n=this.element.style,i=this.getOffset(),o=this.getPositioning();this.setVisible(!0);var r=i[0],a=i[1];if(o==xn.BOTTOM_RIGHT||o==xn.CENTER_RIGHT||o==xn.TOP_RIGHT){""!==this.rendered.left_&&(this.rendered.left_=n.left="");var s=Math.round(e[0]-t[0]-r)+"px";this.rendered.right_!=s&&(this.rendered.right_=n.right=s)}else{""!==this.rendered.right_&&(this.rendered.right_=n.right=""),o!=xn.BOTTOM_CENTER&&o!=xn.CENTER_CENTER&&o!=xn.TOP_CENTER||(r-=this.element.offsetWidth/2);var l=Math.round(t[0]+r)+"px";this.rendered.left_!=l&&(this.rendered.left_=n.left=l)}if(o==xn.BOTTOM_LEFT||o==xn.BOTTOM_CENTER||o==xn.BOTTOM_RIGHT){""!==this.rendered.top_&&(this.rendered.top_=n.top="");var h=Math.round(e[1]-t[1]-a)+"px";this.rendered.bottom_!=h&&(this.rendered.bottom_=n.bottom=h)}else{""!==this.rendered.bottom_&&(this.rendered.bottom_=n.bottom=""),o!=xn.CENTER_LEFT&&o!=xn.CENTER_CENTER&&o!=xn.CENTER_RIGHT||(a-=this.element.offsetHeight/2);var u=Math.round(t[1]+a)+"px";this.rendered.top_!=u&&(this.rendered.top_=n.top=u)}},e.prototype.getOptions=function(){return this.options},e}(l.a),Rn=n(63),In=n(65),Sn=n(41),Ln=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),jn=function(t){function e(e,n,i,o,r,a){var s=t.call(this,e,n,{transition:0})||this;return s.context_={},s.executorGroups={},s.loadingSourceTiles=0,s.errorSourceTileKeys={},s.replayState_={},s.wantedResolution,s.getSourceTiles_=r,s.removeSourceTiles_=a,s.sourceTileGrid_=o,s.sourceZ=-1,s.hifi=!1,s.wrappedTileCoord=i,s}return Ln(e,t),e.prototype.disposeInternal=function(){for(var e in this.removeSourceTiles_(this),this.context_){var n=this.context_[e].canvas;n.width=n.height=0}for(var e in this.executorGroups)for(var i=this.executorGroups[e],o=0,r=i.length;o<r;++o)i[o].disposeInternal();this.setState(It.a.ABORT),t.prototype.disposeInternal.call(this)},e.prototype.getContext=function(t){var e=Object(R.c)(t);return e in this.context_||(this.context_[e]=Object($t.a)()),this.context_[e]},e.prototype.hasContext=function(t){return Object(R.c)(t)in this.context_},e.prototype.getImage=function(t){return this.hasContext(t)?this.getContext(t).canvas:null},e.prototype.getReplayState=function(t){var e=Object(R.c)(t);return e in this.replayState_||(this.replayState_[e]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedZ:-1,renderedTileZ:-1}),this.replayState_[e]},e.prototype.load=function(){this.getSourceTiles_(this)},e}(Rn.a),An=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Mn=function(t){function e(e,n,i,o,r,a){var s=t.call(this,e,n,a)||this;return s.consumers=0,s.extent=null,s.format_=o,s.features_=null,s.loader_,s.projection=null,s.resolution,s.tileLoadFunction_=r,s.url_=i,s}return An(e,t),e.prototype.disposeInternal=function(){this.setState(It.a.ABORT),t.prototype.disposeInternal.call(this)},e.prototype.getFormat=function(){return this.format_},e.prototype.getFeatures=function(){return this.features_},e.prototype.getKey=function(){return this.url_},e.prototype.load=function(){this.state==It.a.IDLE&&(this.setState(It.a.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_(this.extent,this.resolution,this.projection))},e.prototype.onLoad=function(t,e){this.setFeatures(t)},e.prototype.onError=function(){this.setState(It.a.ERROR)},e.prototype.setFeatures=function(t){this.features_=t,this.setState(It.a.LOADED)},e.prototype.setLoader=function(t){this.loader_=t},e}(Rn.a);n.d(e,"AssertionError",(function(){return o.a})),n.d(e,"Collection",(function(){return r.a})),n.d(e,"Disposable",(function(){return a.a})),n.d(e,"Feature",(function(){return s.a})),n.d(e,"Geolocation",(function(){return g})),n.d(e,"Graticule",(function(){return at})),n.d(e,"Image",(function(){return st.a})),n.d(e,"ImageBase",(function(){return lt.a})),n.d(e,"ImageCanvas",(function(){return ct})),n.d(e,"ImageTile",(function(){return pt.a})),n.d(e,"Kinetic",(function(){return dt})),n.d(e,"Map",(function(){return On})),n.d(e,"MapBrowserEvent",(function(){return gt})),n.d(e,"MapBrowserEventHandler",(function(){return Pt})),n.d(e,"MapBrowserPointerEvent",(function(){return bt})),n.d(e,"MapEvent",(function(){return _t})),n.d(e,"Object",(function(){return l.a})),n.d(e,"Observable",(function(){return Tn.default})),n.d(e,"Overlay",(function(){return Cn})),n.d(e,"PluggableMap",(function(){return oe})),n.d(e,"Tile",(function(){return Rn.a})),n.d(e,"TileCache",(function(){return In.a})),n.d(e,"TileQueue",(function(){return jt})),n.d(e,"TileRange",(function(){return Sn.b})),n.d(e,"VectorRenderTile",(function(){return jn})),n.d(e,"VectorTile",(function(){return Mn})),n.d(e,"View",(function(){return Qt})),n.d(e,"getUid",(function(){return R.c})),n.d(e,"VERSION",(function(){return R.a}))}}]);